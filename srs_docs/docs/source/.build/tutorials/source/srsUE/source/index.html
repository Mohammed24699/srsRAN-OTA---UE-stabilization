<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>srsRAN gNB with srsUE &mdash; srsRAN Project  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/tooltipster.custom.css" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/tooltipster.bundle.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/tooltipster-sideTip-shadow.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/tooltipster-sideTip-punk.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/tooltipster-sideTip-noir.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/tooltipster-sideTip-light.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/tooltipster-sideTip-borderless.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/micromodal.css" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/sphinx_rtd_theme.css?v=3234e928" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/tabs.css?v=a5c4661c" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/custom.css?v=257617e2" />

  
    <link rel="shortcut icon" href="../../../../_static/favicon.png"/>
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../../../_static/copybutton.js?v=f281be69"></script>
        <script src="../../../../_static/js/hoverxref.js"></script>
        <script src="../../../../_static/js/tooltipster.bundle.min.js"></script>
        <script src="../../../../_static/js/micromodal.min.js"></script>
        <script src="../../../../_static/tabs.js?v=3030b3cb"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="srsRAN gNB with COTS UEs" href="../../cotsUE/source/index.html" />
    <link rel="prev" title="COTS UEs" href="../../../../knowledge_base/source/cots_ues/source/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html" class="icon icon-home">
            srsRAN Project
              <img src="../../../../_static/logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
    
              <p class="caption" role="heading"><span class="caption-text">General</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../general/source/1_getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../general/source/2_features_and_roadmap.html">Features and Roadmap</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../general/source/2_features_and_roadmap.html#current-features">Current Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../general/source/2_features_and_roadmap.html#coming-soon">Coming Soon</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../general/source/3_contributions.html">Contribution Guidelines</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../general/source/3_contributions.html#faq">FAQ</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../general/source/3_contributions.html#what-is-a-copyright-license-agreement-cla-and-why-do-i-need-one">1. What is a Copyright License Agreement (CLA) and why do I need one?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../general/source/3_contributions.html#how-do-i-complete-and-submit-the-cla">2. How do I complete and submit the CLA?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../general/source/3_contributions.html#how-will-my-contributions-to-the-srsran-project-be-used">3. How will my contributions to the srsRAN Project be used?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../general/source/3_contributions.html#if-i-do-not-own-the-copyright-in-the-entire-work-of-authorship">4. If I do not own the copyright in the entire work of authorship?</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../general/source/4_reporting.html">Reporting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../general/source/4_reporting.html#issues">Issues</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../general/source/4_reporting.html#vulnerabilities">Vulnerabilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../general/source/4_reporting.html#support">Support</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../general/source/5_release_notes.html">Release Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../general/source/5_release_notes.html#id1">23.10</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../general/source/5_release_notes.html#id2">23.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../general/source/5_release_notes.html#initial-public-release">23.3 (initial public release)</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../user_manuals/source/installation.html">Installation Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../user_manuals/source/installation.html#build-tools-and-dependencies">Build Tools and Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../user_manuals/source/installation.html#rf-drivers">RF-drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../user_manuals/source/installation.html#clone-and-build">Clone and Build</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../user_manuals/source/installation.html#packages">Packages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../user_manuals/source/installation.html#ubuntu">Ubuntu</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../user_manuals/source/installation.html#arch-linux">Arch Linux</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../user_manuals/source/installation.html#phy-testvectors">PHY testvectors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../user_manuals/source/running.html">Running srsRAN Project</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../user_manuals/source/running.html#baseline-requirements">Baseline Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../user_manuals/source/running.html#system-preparation">System Preparation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../user_manuals/source/running.html#running-the-gnb">Running the gNB</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../user_manuals/source/console_ref.html">Console Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../user_manuals/source/outputs.html">Outputs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../user_manuals/source/outputs.html#logs">Logs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../user_manuals/source/outputs.html#pcaps">PCAPs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../user_manuals/source/outputs.html#mac">MAC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../user_manuals/source/outputs.html#rlc">RLC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../user_manuals/source/outputs.html#ngap">NGAP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../user_manuals/source/outputs.html#gtp-u">GTP-U</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../user_manuals/source/outputs.html#e1ap">E1AP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../user_manuals/source/outputs.html#f1ap">F1AP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../user_manuals/source/outputs.html#e2ap">E2AP</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../user_manuals/source/config_ref.html">Configuration Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../user_manuals/source/config_ref.html#format">Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../user_manuals/source/config_ref.html#configuration-parameters">Configuration Parameters</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../user_manuals/source/grafana_gui.html">Grafana Metrics GUI</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../user_manuals/source/grafana_gui.html#configuration">Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../user_manuals/source/grafana_gui.html#id2">Docker</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../user_manuals/source/grafana_gui.html#srsran">srsRAN</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../user_manuals/source/grafana_gui.html#launching-gui">Launching GUI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../user_manuals/source/grafana_gui.html#gui-output">GUI Output</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../user_manuals/source/troubleshooting.html">Troubleshooting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../user_manuals/source/troubleshooting.html#performance-tuning">Performance Tuning</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../user_manuals/source/troubleshooting.html#cpu-performance-mode">CPU Performance Mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../user_manuals/source/troubleshooting.html#performance-configuration-script">Performance Configuration Script</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../user_manuals/source/troubleshooting.html#usrp-configuration">USRP Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../user_manuals/source/troubleshooting.html#usrp-time-calibration">USRP Time Calibration</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developers Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../dev_guide/source/software_arch/source/index.html">Software Architecture</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../dev_guide/source/software_arch/source/CU_cp/source/index.html">CU-CP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../dev_guide/source/software_arch/source/CU_up/source/index.html">CU-UP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../dev_guide/source/software_arch/source/DU_high/source/index.html">DU-high</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../dev_guide/source/software_arch/source/DU_high/source/du_manager.html">DU Manager</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../dev_guide/source/software_arch/source/DU_high/source/rlc.html">Radio Link Control (RLC)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../dev_guide/source/software_arch/source/DU_high/source/rlc_am.html">RLC Acknowledged Mode (AM)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../dev_guide/source/software_arch/source/DU_high/source/mac.html">MAC</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../dev_guide/source/software_arch/source/DU_high/source/mac.html#implementation">Implementation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../dev_guide/source/software_arch/source/DU_high/source/mac.html#ra-procedure">RA Procedure</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../dev_guide/source/software_arch/source/DU_low/source/index.html">DU-low</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/index.html">Code Style Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/1_language_libraries.html">Language and libraries</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/1_language_libraries.html#c-c-version">C &amp; C++ version</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/1_language_libraries.html#use-of-the-c-standard-library">Use of the C++ standard library</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/2_mechanical_source_aspects.html">Mechanical source aspects</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/2_mechanical_source_aspects.html#source-code-formatting">Source Code Formatting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/2_mechanical_source_aspects.html#comments">Comments</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/2_mechanical_source_aspects.html#comment-guidelines">Comment Guidelines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/2_mechanical_source_aspects.html#file-headers">File Headers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/2_mechanical_source_aspects.html#header-guards">Header Guards</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/2_mechanical_source_aspects.html#include-style">#include Style</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/2_mechanical_source_aspects.html#language-and-compiler-aspects">Language and compiler aspects</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/2_mechanical_source_aspects.html#treat-compiler-warnings-as-errors">Treat compiler warnings as errors</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/2_mechanical_source_aspects.html#code-portability">Code Portability</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/2_mechanical_source_aspects.html#avoid-rtti-and-exceptions">Avoid RTTI and Exceptions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/2_mechanical_source_aspects.html#use-of-auto">Use of auto</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/3_style_aspects_high_level.html">Style Aspects: High Level Issues</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/3_style_aspects_high_level.html#self-contained-headers">Self-contained Headers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/3_style_aspects_high_level.html#using-include-sparingly">Using <code class="docutils literal notranslate"><span class="pre">#include</span></code> Sparingly</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/3_style_aspects_high_level.html#using-internal-headers">Using “Internal” Headers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/3_style_aspects_high_level.html#use-of-namespace">Use of <code class="docutils literal notranslate"><span class="pre">namespace</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/3_style_aspects_high_level.html#using-early-exits-and-continue">Using “early exits” and <code class="docutils literal notranslate"><span class="pre">continue</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/3_style_aspects_high_level.html#avoid-else-after-a-return-statement">Avoid <code class="docutils literal notranslate"><span class="pre">else</span></code> after a <code class="docutils literal notranslate"><span class="pre">return</span></code> statement</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/3_style_aspects_high_level.html#use-of-static-helper-functions">Use of Static Helper Functions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/4_style_aspects_low_level.html">Style Aspects: Low Level Issues</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/4_style_aspects_low_level.html#naming-conventions">Naming Conventions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/4_style_aspects_low_level.html#assert-and-expect">Assert and expect</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/4_style_aspects_low_level.html#do-not-use-using-namespace-std">Do not use <code class="docutils literal notranslate"><span class="pre">using</span> <span class="pre">namespace</span> <span class="pre">std</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/4_style_aspects_low_level.html#using-range-for-loops">Using Range for Loops</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/4_style_aspects_low_level.html#loop-structure">Loop Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/4_style_aspects_low_level.html#using-pre-increment">Using Pre-increment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/4_style_aspects_low_level.html#use-of-anonymous-namespaces">Use of Anonymous Namespaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/4_style_aspects_low_level.html#using-c-casts">Using C++ Casts</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/5_recommendations.html">Recommendations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/5_recommendations.html#function-and-class-length">Function and Class Length</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/5_recommendations.html#scope">Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/5_recommendations.html#logical-operators">Logical Operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/5_recommendations.html#using-references-over-pointers">Using References(&amp;) Over Pointers(*)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/5_recommendations.html#const-correctness">Const Correctness</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/5_recommendations.html#avoid-complex-expressions">Avoid Complex Expressions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/5_recommendations.html#magic-numbers">Magic numbers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/5_recommendations.html#fixed-width-integer-types">Fixed Width Integer Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/5_recommendations.html#function-signatures">Function signatures</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/5_recommendations.html#class-layout-example">Class Layout Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/6_self_generating_docs.html">Self Generating Documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/6_self_generating_docs.html#general-aspects">General Aspects</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/6_self_generating_docs.html#files">Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/6_self_generating_docs.html#classes-and-structures">Classes and Structures</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/6_self_generating_docs.html#class-methods-and-free-functions">Class Methods and Free Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/6_self_generating_docs.html#class-data-members-objects-variables">Class Data Members, Objects, Variables</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../dev_guide/source/code_guide/source/7_commit_formatting.html">Commit Formatting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../dev_guide/source/testing_policy/source/index.html">Testing Policy</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../dev_guide/source/testing_policy/source/index.html#unit-tests">Unit Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../dev_guide/source/testing_policy/source/index.html#integration-and-component-tests">Integration and Component Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../dev_guide/source/testing_policy/source/index.html#end-to-end-e2e-tests">End-to-End (E2E) Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../dev_guide/source/testing_policy/source/index.html#exploratory-tests">Exploratory Tests</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Knowledge Base</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../knowledge_base/source/oran_gnb/source/index.html">O-RAN gNB Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../knowledge_base/source/oran_gnb/source/index.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../knowledge_base/source/oran_gnb/source/index.html#split-7-2x-architecture">Split 7.2x Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../knowledge_base/source/oran_gnb/source/index.html#srsran-project-gnb">srsRAN Project gNB</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../knowledge_base/source/oran_gnb/source/index.html#further-reading">Further Reading</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../knowledge_base/source/gnb_components/source/index.html">O-RAN gNB Components</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../knowledge_base/source/gnb_components/source/index.html#centralized-unit-cu">Centralized Unit (CU)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../knowledge_base/source/gnb_components/source/index.html#distributed-unit-du">Distributed Unit (DU)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../knowledge_base/source/gnb_components/source/index.html#du-high">DU-high</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../knowledge_base/source/gnb_components/source/index.html#du-low">DU-low</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../knowledge_base/source/gnb_interfaces/source/index.html">gNB Interfaces</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../knowledge_base/source/gnb_interfaces/source/index.html#e1">E1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../knowledge_base/source/gnb_interfaces/source/index.html#e2">E2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../knowledge_base/source/gnb_interfaces/source/index.html#f1">F1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../knowledge_base/source/gnb_interfaces/source/index.html#f1-c">F1-C</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../knowledge_base/source/gnb_interfaces/source/index.html#f1-u">F1-U</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../knowledge_base/source/gnb_interfaces/source/index.html#fapi">FAPI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../knowledge_base/source/gnb_interfaces/source/index.html#ng">NG</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../knowledge_base/source/gnb_interfaces/source/index.html#ng-c">NG-C</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../knowledge_base/source/gnb_interfaces/source/index.html#ng-u">NG-U</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../knowledge_base/source/gnb_interfaces/source/index.html#o1">O1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../knowledge_base/source/gnb_interfaces/source/index.html#open-fronthaul">Open FrontHaul</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../knowledge_base/source/cots_ues/source/index.html">COTS UEs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../knowledge_base/source/cots_ues/source/index.html#tested-cots-ues">Tested COTS UEs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../knowledge_base/source/cots_ues/source/index.html#user-reported-working-ues">User reported working UEs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../knowledge_base/source/cots_ues/source/index.html#ue-capability-messages">UE Capability Messages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../knowledge_base/source/cots_ues/source/index.html#references">References</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">srsRAN gNB with srsUE</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#hardware-and-software-overview">Hardware and Software Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">srsRAN 4G</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#limitations">Limitations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#open5gs">Open5GS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">ZeroMQ</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#over-the-air-setup">Over-the-air Setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#configuration">Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#gnb">gNB</a></li>
<li class="toctree-l4"><a class="reference internal" href="#srsue">srsUE</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#running-the-network">Running the Network</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#open5gs-core">Open5GS Core</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4">gNB</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id5">srsUE</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#testing-the-network">Testing the Network</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#routing-configuration">Routing Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ping">Ping</a></li>
<li class="toctree-l4"><a class="reference internal" href="#iperf3">iPerf3</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#zeromq-based-setup">ZeroMQ-based Setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id6">Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id7">gNB</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id8">srsUE</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id9">Running the Network</a></li>
<li class="toctree-l3"><a class="reference internal" href="#zmq-testing">Testing the Network</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#zmq-routing">Routing Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id12">Ping</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id13">iPerf3</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#multi-ue-emulation">Multi-UE Emulation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id15">Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#gnu-radio-companion">GNU-Radio Companion</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id17">Open5GS Core</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id18">gNB</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id19">srsUE</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id20">Running the Network</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id21">Open5GS Core</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id22">gNB</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id23">srsUE</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id24">GNU-Radio Companion</a></li>
<li class="toctree-l4"><a class="reference internal" href="#path-loss-control">Path-loss Control</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id25">Testing the Network</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#troubleshooting">Troubleshooting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#performance-issues">Performance Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="#reference-clock">Reference clock</a></li>
<li class="toctree-l3"><a class="reference internal" href="#g-qos-identifier">5G QoS Identifier</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ue-does-not-get-ip-address">UE does not get IP address</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ue-ip-forwarding">UE IP Forwarding</a></li>
<li class="toctree-l3"><a class="reference internal" href="#nd-open5gs-instance-installed-manually">2nd Open5GS instance (installed manually)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#usrp-x300-x310">USRP X300/X310</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id26">Limitations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id27">srsUE</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../cotsUE/source/index.html">srsRAN gNB with COTS UEs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../cotsUE/source/index.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cotsUE/source/index.html#setup-considerations">Setup Considerations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../cotsUE/source/index.html#open5gs">Open5GS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cotsUE/source/index.html#cots-ue">COTS UE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cotsUE/source/index.html#external-clock">External Clock</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../cotsUE/source/index.html#configuration">Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../cotsUE/source/index.html#gnb">gNB</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cotsUE/source/index.html#isim">ISIM</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../cotsUE/source/index.html#sim-programming">SIM Programming</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cotsUE/source/index.html#suci-configuration">SUCI Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../cotsUE/source/index.html#id1">Open5GS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../cotsUE/source/index.html#amf-yml">amf.yml</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cotsUE/source/index.html#upf-yml">upf.yml</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cotsUE/source/index.html#user-database">User Database</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../cotsUE/source/index.html#id4">COTS UE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../cotsUE/source/index.html#enable-isim-5g-and-data-roaming">Enable ISIM, 5G and data roaming</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cotsUE/source/index.html#configure-apn">Configure APN</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cotsUE/source/index.html#force-nr">Force NR</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../cotsUE/source/index.html#connecting-the-cots-ue">Connecting the COTS UE</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../cotsUE/source/index.html#setting-up-the-network">Setting-up the Network</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../cotsUE/source/index.html#check-that-the-core-is-running-correctly">Check that the Core is running correctly</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cotsUE/source/index.html#run-the-gnb">Run the gNB</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../cotsUE/source/index.html#connecting-to-the-network">Connecting to the Network</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../cotsUE/source/index.html#traffic-and-testing">Traffic and Testing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../cotsUE/source/index.html#speed-test">Speed Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cotsUE/source/index.html#video-test">Video Test</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../cotsUE/source/index.html#troubleshooting">Troubleshooting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../cotsUE/source/index.html#network-not-visible">Network Not Visible</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cotsUE/source/index.html#unable-to-attach">Unable to Attach</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cotsUE/source/index.html#no-internet-access">No Internet Access</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cotsUE/source/index.html#ue-disconnects-after-a-few-minutes">UE Disconnects after a few Minutes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../cotsUE/source/index.html#tested-devices">Tested Devices</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../amariUE/source/index.html">srsRAN gNB with Amarisoft UE</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../amariUE/source/index.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../amariUE/source/index.html#hardware-and-software-overview">Hardware and Software Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../amariUE/source/index.html#id1">Amarisoft UE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../amariUE/source/index.html#open5gs">Open5GS</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../amariUE/source/index.html#installation">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../amariUE/source/index.html#id2">ZeroMQ</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../amariUE/source/index.html#srsran-project-gnb">srsRAN Project gNB</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../amariUE/source/index.html#id3">Amarisoft UE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../amariUE/source/index.html#zeromq-driver-for-amarisoft-ue">ZeroMQ driver for Amarisoft UE</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../amariUE/source/index.html#zeromq-based-setup">ZeroMQ-based Setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../amariUE/source/index.html#configuration">Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../amariUE/source/index.html#id4">srsRAN Project gNB</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../amariUE/source/index.html#id5">Amarisoft UE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../amariUE/source/index.html#id6">Open5GS 5G Core</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../amariUE/source/index.html#running-the-5g-network">Running the 5G Network</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../amariUE/source/index.html#id8">Open5gs 5G Core</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../amariUE/source/index.html#id9">srsRAN Project gNB</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../amariUE/source/index.html#id10">Amarisoft UE</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../amariUE/source/index.html#testing-the-network">Testing the Network</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../amariUE/source/index.html#ping">Ping</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../amariUE/source/index.html#iperf">iPerf</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../amariUE/source/index.html#iperf-output">iPerf Output</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../amariUE/source/index.html#gnb-console-output">gNB Console Output</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../amariUE/source/index.html#packet-capture">Packet Capture</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../amariUE/source/index.html#configuring-amarisoft-for-multiple-ues">Configuring Amarisoft for multiple UEs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../amariUE/source/index.html#over-the-air-setup">Over-the-air Setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../amariUE/source/index.html#id11">Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../amariUE/source/index.html#id12">srsRAN Project gNB</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../amariUE/source/index.html#id13">Amarisoft UE</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../amariUE/source/index.html#id14">Running the 5G Network</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../amariUE/source/index.html#id15">Open5gs 5G Core</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../amariUE/source/index.html#id16">srsRAN Project gNB</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../amariUE/source/index.html#id17">Amarisoft UE</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../amariUE/source/index.html#amariue-radios-test">Testing the Network</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../amariUE/source/index.html#id19">Ping</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../amariUE/source/index.html#id20">iPerf</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../amariUE/source/index.html#id21">iPerf Output</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../amariUE/source/index.html#id22">gNB Console Output</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../amariUE/source/index.html#id23">Packet Capture</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../amariUE/source/index.html#troubleshooting">Troubleshooting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../amariUE/source/index.html#zmq-setup">ZMQ setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../amariUE/source/index.html#reference-clock-for-over-the-air">Reference clock for over-the-air</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../amariUE/source/index.html#g-qos-identifier">5G QoS Identifier</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../k8s/source/index.html">srsRAN gNB on Kubernetes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../k8s/source/index.html#introduction">Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../k8s/source/index.html#further-reading">Further Reading</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../k8s/source/index.html#setup-considerations">Setup Considerations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../k8s/source/index.html#cu-du">CU/DU</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../k8s/source/index.html#ru">RU</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../k8s/source/index.html#g-core">5G Core</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../k8s/source/index.html#clocking-synchronization">Clocking &amp; Synchronization</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../k8s/source/index.html#switch">Switch</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../k8s/source/index.html#configuration">Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../k8s/source/index.html#kubernetes-worker-node">Kubernetes Worker Node</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../k8s/source/index.html#nic-configuration">NIC Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../k8s/source/index.html#ptp-grandmaster">PTP Grandmaster</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../k8s/source/index.html#helm-charts">Helm Charts</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../k8s/source/index.html#linuxptp-helm-chart">LinuxPTP Helm Chart</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../k8s/source/index.html#srsran-project-helm-chart">srsRAN Project Helm Chart</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../k8s/source/index.html#core">Core</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../k8s/source/index.html#initializing-the-network">Initializing the Network</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../k8s/source/index.html#ru-1">RU</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../k8s/source/index.html#core-1">Core</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../k8s/source/index.html#du">DU</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../k8s/source/index.html#ptp">PTP</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../k8s/source/index.html#id7">CU/DU</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../k8s/source/index.html#connecting-to-the-network">Connecting to the Network</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../k8s/source/index.html#supported-o-rus">Supported O-RUs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../dpdk/source/index.html">srsRAN gNB with DPDK</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../dpdk/source/index.html#introduction">Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../dpdk/source/index.html#further-reading">Further Reading</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../dpdk/source/index.html#installing-dpdk">Installing DPDK</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../dpdk/source/index.html#configuring-dpdk">Configuring DPDK</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../dpdk/source/index.html#configure-hugepages">Configure Hugepages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dpdk/source/index.html#binding-to-dpdk">Binding to DPDK</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dpdk/source/index.html#id2">EAL Parameters</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../dpdk/source/index.html#running-srsran-with-dpdk">Running srsRAN with DPDK</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../oranRU/source/index.html">O-RAN 7.2 RU Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../oranRU/source/index.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../oranRU/source/index.html#setup-considerations">Setup Considerations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../oranRU/source/index.html#cu-du">CU/DU</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oranRU/source/index.html#ru">RU</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oranRU/source/index.html#g-core">5G Core</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oranRU/source/index.html#synchronization">Synchronization</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oranRU/source/index.html#switch">Switch</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../oranRU/source/index.html#configuration">Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../oranRU/source/index.html#id1">Switch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oranRU/source/index.html#id2">CU/DU</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oranRU/source/index.html#nic-configuration">NIC configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oranRU/source/index.html#ptp-configuration">PTP configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oranRU/source/index.html#srsran-configuration">srsRAN configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../oranRU/source/index.html#id4">RU</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oranRU/source/index.html#core">Core</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../oranRU/source/index.html#initializing-the-network">Initializing the Network</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../oranRU/source/index.html#id5">RU</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oranRU/source/index.html#id6">CU/DU</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../oranRU/source/index.html#connecting-to-the-network">Connecting to the Network</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../oranRU/source/index.html#cots-ue">COTS UE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oranRU/source/index.html#amariue">AmariUE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oranRU/source/index.html#sending-traffic">Sending Traffic</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../oranRU/source/index.html#integration-guide">Integration Guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../oranRU/source/hw_integration.html">RUs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oranRU/source/rus/r550.html">Benetel R550</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../oranRU/source/hw_integration.html#switches">Switches</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oranRU/source/switches/falcon.html">Falcon-RX Switch</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../flexric/source/index.html">O-RAN NearRT-RIC and xApp</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../flexric/source/index.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../flexric/source/index.html#setup-overview">Setup Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../flexric/source/index.html#hardware-and-software-overview">Hardware and Software Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../flexric/source/index.html#limitations">Limitations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../flexric/source/index.html#installation">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../flexric/source/index.html#id2">FlexRIC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../flexric/source/index.html#open5gs">Open5GS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../flexric/source/index.html#id5">ZeroMQ</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../flexric/source/index.html#id6">srsRAN Project</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../flexric/source/index.html#srsue">srsUE</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../flexric/source/index.html#configuration">Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../flexric/source/index.html#gnb">gNB</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../flexric/source/index.html#running-the-network">Running the Network</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../flexric/source/index.html#open5gs-core">Open5GS Core</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../flexric/source/index.html#nearrt-ric">NearRT-RIC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../flexric/source/index.html#id7">gNB</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../flexric/source/index.html#id8">srsUE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../flexric/source/index.html#ip-traffic-with-ping">IP Traffic with ping</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../flexric/source/index.html#xapp">xApp</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../flexric/source/index.html#e2ap-packet-analyzer">E2AP packet analyzer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../flexric/source/index.html#enable-e2ap-pcap">Enable E2AP PCAP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../flexric/source/index.html#live-capture">Live capture</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../flexric/source/index.html#troubleshooting">Troubleshooting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../flexric/source/index.html#pcap">PCAP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../flexric/source/index.html#core-network-not-running">Core Network not running</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../flexric/source/index.html#ue-issues">UE issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../flexric/source/index.html#ue-ip-forwarding">UE IP Forwarding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../flexric/source/index.html#nd-open5gs-instance-installed-manually">2nd Open5GS instance (installed manually)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../flexric/source/index.html#ric-running-on-a-different-machine">RIC running on a different machine</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../matlab/source/index.html">MATLAB Testing Tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../matlab/source/index.html#overview">Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../matlab/source/index.html#test-vector-generation">Test Vector Generation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../matlab/source/index.html#signal-analyzers">Signal Analyzers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../matlab/source/index.html#simulators">Simulators</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../matlab/source/index.html#set-up-considerations">Set-Up Considerations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../matlab/source/index.html#installation">Installation</a></li>
</ul>
</li>
</ul>


    
        <p class="caption">
            <span class="caption-text">
            
                Links
            
            </span>
        </p>
        <ul>
            
                
                    <li class="toctree-l1"><a href="https://www.srsran.com"><i class="web-icon"></i> Website</a></li>
                
            
                
                    <li class="toctree-l1"><a href="https://github.com/srsran/srsran_project"><i class="fa fa-github fa-fw"></i> Source code</a></li>
                
            
                
                    <li class="toctree-l1"><a href="https://github.com/srsran/srsran_project/issues"><i class="fa fa-bug fa-fw"></i> Report an issue</a></li>
                
            
                
                    <li class="toctree-l1"><a href="https://github.com/srsran/srsran_project/discussions"><i class="fa fa-envelope fa-fw"></i> Discussions Board</a></li>
                
            
                
                    <li class="toctree-l1"><a href="https://twitter.com/srsRANProject"><i class="fa fa-twitter fa-fw"></i> Twitter</a></li>
                
            
        </ul>
    


        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">srsRAN Project</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">srsRAN gNB with srsUE</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/tutorials/source/srsUE/source/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="../../../../knowledge_base/source/cots_ues/source/index.html" class="btn btn-neutral float-left" title="COTS UEs" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../cotsUE/source/index.html" class="btn btn-neutral float-right" title="srsRAN gNB with COTS UEs" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="srsran-gnb-with-srsue">
<span id="srsue-appnote"></span><h1>srsRAN gNB with srsUE<a class="headerlink" href="#srsran-gnb-with-srsue" title="Link to this heading"></a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<p>srsRAN Project is a 5G CU/DU solution and does not include a UE application. However, <a class="reference external" href="https://github.com/srsran/srsRAN_4G">srsRAN 4G</a> does include a prototype 5G UE (srsUE) which can be used for testing.
This application note shows how to create an end-to-end fully open-source 5G network with srsUE, the srsRAN Project gNodeB and Open5GS 5G core network.</p>
<p>First, we show how to connect srsUE to the gNodeB over-the-air using USRPs. In the second part, we outline how to use virtual radios based on ZeroMQ instead of SDR hardware.
Virtual radios allow the UE to be connected to the gNodeB over sockets. This approach can be very useful for development, testing, debugging, CI/CD or for teaching and demonstrating.</p>
</section>
<hr class="docutils" />
<section id="hardware-and-software-overview">
<h2>Hardware and Software Overview<a class="headerlink" href="#hardware-and-software-overview" title="Link to this heading"></a></h2>
<p>For this application note, the following hardware and software are used:</p>
<blockquote>
<div><ul class="simple">
<li><p>PC with Ubuntu 22.04.1 LTS</p></li>
<li><p><a class="reference external" href="https://github.com/srsran/srsRAN_project">srsRAN Project</a></p></li>
<li><p><a class="reference external" href="https://github.com/srsran/srsRAN_4G">srsRAN 4G</a> (23.11 or later)</p></li>
<li><p><a class="reference external" href="https://www.ettus.com/all-products/ub210-kit/">Two Ettus Research USRP B210s</a> (connected over USB3)</p></li>
<li><p><a class="reference external" href="https://open5gs.org/">Open5GS 5G Core</a></p></li>
<li><p><a class="reference external" href="https://zeromq.org/">ZeroMQ</a></p></li>
</ul>
</div></blockquote>
<p>Ideally the USRPs would be connected to a 10 MHz external reference clock or GPSDO, although this is not a strict requirment. We recommend the <a class="reference external" href="http://www.leobodnar.com/shop/index.php?main_page=product_info&amp;cPath=107&amp;products_id=234&amp;zenid=5194baec39dbc91212ec4ac755a142b6">Leo Bodnar GPSDO</a>.</p>
<section id="id2">
<h3>srsRAN 4G<a class="headerlink" href="#id2" title="Link to this heading"></a></h3>
<p>If you have not already done so, install the latest version of srsRAN 4G and all of its dependencies. This is outlined in the <a class="reference external" href="https://docs.srsran.com/projects/4g/en/latest/general/source/1_installation.html">installation guide</a>.</p>
<p>Please check our srsRAN 4G <a class="reference external" href="https://docs.srsran.com/projects/4g/en/latest/app_notes/source/zeromq/source/index.html">ZeroMQ Application Note</a> for information on installing ZMQ and using it with srsRAN 4G.</p>
<section id="limitations">
<h4>Limitations<a class="headerlink" href="#limitations" title="Link to this heading"></a></h4>
<p>The current srsUE implementation has a few feature limitations when running in 5G SA mode. The key feature limitations are as follows:</p>
<blockquote>
<div><ul class="simple">
<li><p>Limited to 15 kHz Sub-Carrier Spacing (SCS), which means only FDD bands can be used.</p></li>
<li><p>Limited to 5, 10, 15 or 20 MHz Bandwidth (BW)</p></li>
</ul>
</div></blockquote>
</section>
</section>
<section id="open5gs">
<h3>Open5GS<a class="headerlink" href="#open5gs" title="Link to this heading"></a></h3>
<p>For this example, we are using Open5GS as the 5G Core.</p>
<p>Open5GS is a C-language Open Source implementation for 5G Core and EPC. The following links will provide you
with the information needed to download and set-up Open5GS so that it is ready to use with srsRAN:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="https://github.com/open5gs/open5gs">GitHub</a></p></li>
<li><p><a class="reference external" href="https://open5gs.org/open5gs/docs/guide/01-quickstart/">Quickstart Guide</a></p></li>
</ul>
</div></blockquote>
<p>For the purpose of this application note, we will use a dockerized Open5GS version provided in srsRAN Project at <code class="docutils literal notranslate"><span class="pre">srsgnb/docker</span></code>.</p>
</section>
<section id="id3">
<h3>ZeroMQ<a class="headerlink" href="#id3" title="Link to this heading"></a></h3>
<p>On Ubuntu, ZeroMQ development libraries can be installed with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">libzmq3</span><span class="o">-</span><span class="n">dev</span>
</pre></div>
</div>
<p>Alternatively, ZeroMQ can also be built from source.</p>
<p>First, one needs to install libzmq:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">zeromq</span><span class="o">/</span><span class="n">libzmq</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">libzmq</span>
<span class="o">./</span><span class="n">autogen</span><span class="o">.</span><span class="n">sh</span>
<span class="o">./</span><span class="n">configure</span>
<span class="n">make</span>
<span class="n">sudo</span> <span class="n">make</span> <span class="n">install</span>
<span class="n">sudo</span> <span class="n">ldconfig</span>
</pre></div>
</div>
<p>Second, install czmq:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">zeromq</span><span class="o">/</span><span class="n">czmq</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">czmq</span>
<span class="o">./</span><span class="n">autogen</span><span class="o">.</span><span class="n">sh</span>
<span class="o">./</span><span class="n">configure</span>
<span class="n">make</span>
<span class="n">sudo</span> <span class="n">make</span> <span class="n">install</span>
<span class="n">sudo</span> <span class="n">ldconfig</span>
</pre></div>
</div>
<p>Finally, you need to compile srsRAN Project and srsRAN 4G (assuming you have already installed all the required dependencies).
Note, if you have already built and installed srsRAN 4G and srsRAN Project prior to installing ZMQ and other dependencies you
will have to re-build both to ensure the ZMQ drivers have been recognized correctly.</p>
<p>For srsRAN Project, the following commands can be used to download and build from source:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>git clone https://github.com/srsran/srsRAN_Project.git
cd srsRAN_Project
mkdir build
cd build
cmake ../ -DENABLE_EXPORT=ON -DENABLE_ZEROMQ=ON
make -j`nproc`
</pre></div>
</div>
<p>ZeroMQ is disbaled by default, this is enabled when running <code class="docutils literal notranslate"><span class="pre">cmake</span></code> by including <code class="docutils literal notranslate"><span class="pre">-DENABLE_EXPORT=ON</span> <span class="pre">-DENABLE_ZEROMQ=ON</span></code>.</p>
<p>Pay extra attention to the cmake console output. Make sure you read the following line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">...</span>
<span class="o">--</span> <span class="n">FINDING</span> <span class="n">ZEROMQ</span><span class="o">.</span>
<span class="o">--</span> <span class="n">Checking</span> <span class="k">for</span> <span class="n">module</span> <span class="s1">&#39;ZeroMQ&#39;</span>
<span class="o">--</span>   <span class="n">No</span> <span class="n">package</span> <span class="s1">&#39;ZeroMQ&#39;</span> <span class="n">found</span>
<span class="o">--</span> <span class="n">Found</span> <span class="n">libZEROMQ</span><span class="p">:</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">include</span><span class="p">,</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">libzmq</span><span class="o">.</span><span class="n">so</span>
<span class="o">...</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="over-the-air-setup">
<h2>Over-the-air Setup<a class="headerlink" href="#over-the-air-setup" title="Link to this heading"></a></h2>
<p>The following diagram presents the setup architecture:</p>
<figure class="align-center">
<img alt="../../../../_images/gNB_srsUE_usrp.png" src="../../../../_images/gNB_srsUE_usrp.png" />
</figure>
<section id="configuration">
<h3>Configuration<a class="headerlink" href="#configuration" title="Link to this heading"></a></h3>
<p>You can find the srsRAN Project gNB configuration file for this example in the <code class="docutils literal notranslate"><span class="pre">configs</span></code> folder of the srsRAN Project source files. You can also find it <a class="reference external" href="https://github.com/srsran/srsRAN_Project/tree/main/configs">here</a>:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="https://github.com/srsran/srsRAN_Project/blob/main/configs/gnb_rf_b210_fdd_srsUE.yml">gNB FDD srsUE config</a></p></li>
</ul>
</div></blockquote>
<p>You can download the srsUE config here:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference download internal" download="" href="../../../../_downloads/900a04eeabbe80c1bb9f3e571afaa804/ue_rf.conf"><code class="xref download docutils literal notranslate"><span class="pre">srsUE</span></code></a></p></li>
</ul>
</div></blockquote>
<p>It is recommended you use these files to avoid errors while changing configs manually. Any configuration files not included here do not require modification from the default settings.
Details of the modifications made are outlined in following sections.</p>
<section id="gnb">
<h4>gNB<a class="headerlink" href="#gnb" title="Link to this heading"></a></h4>
<p>The following changes need to be made to the gNB configuration file.</p>
<p>The gNB has to connect to AMF in the 5G core network, therefore we need to provide two IP addresses:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">amf</span><span class="p">:</span>
  <span class="n">addr</span><span class="p">:</span> <span class="mf">10.53.1.2</span>                  <span class="c1"># The address of the AMF. Check Open5GS config -&gt; amf -&gt; ngap -&gt; addr</span>
  <span class="n">bind_addr</span><span class="p">:</span> <span class="mf">10.53.1.1</span>             <span class="c1"># A local IP that the gNB binds to for traffic from the AMF.</span>
</pre></div>
</div>
<p>Next, we have to configure the RF front-end device:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ru_sdr</span><span class="p">:</span>
  <span class="n">device_driver</span><span class="p">:</span> <span class="n">uhd</span>                <span class="c1"># The RF driver name.</span>
  <span class="n">device_args</span><span class="p">:</span> <span class="nb">type</span><span class="o">=</span><span class="n">b200</span>            <span class="c1"># Optionally pass arguments to the selected RF driver.</span>
  <span class="n">clock</span><span class="p">:</span> <span class="n">external</span>                   <span class="c1"># Specify the clock source used by the RF.</span>
  <span class="n">sync</span><span class="p">:</span> <span class="n">external</span>                    <span class="c1"># Specify the sync source used by the RF.</span>
  <span class="n">srate</span><span class="p">:</span> <span class="mf">23.04</span>                      <span class="c1"># RF sample rate might need to be adjusted according to selected bandwidth.</span>
  <span class="n">tx_gain</span><span class="p">:</span> <span class="mi">75</span>                       <span class="c1"># Transmit gain of the RF might need to adjusted to the given situation.</span>
  <span class="n">rx_gain</span><span class="p">:</span> <span class="mi">75</span>                       <span class="c1"># Receive gain of the RF might need to adjusted to the given situation.</span>
</pre></div>
</div>
<p>Finally, we configure the 5G cell parameters:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cell_cfg</span><span class="p">:</span>
  <span class="n">dl_arfcn</span><span class="p">:</span> <span class="mi">368500</span>                  <span class="c1"># ARFCN of the downlink carrier (center frequency).</span>
  <span class="n">band</span><span class="p">:</span> <span class="mi">3</span>                           <span class="c1"># The NR band.</span>
  <span class="n">channel_bandwidth_MHz</span><span class="p">:</span> <span class="mi">20</span>         <span class="c1"># Bandwith in MHz. Number of PRBs will be automatically derived.</span>
  <span class="n">common_scs</span><span class="p">:</span> <span class="mi">15</span>                    <span class="c1"># Subcarrier spacing in kHz used for data.</span>
  <span class="n">plmn</span><span class="p">:</span> <span class="s2">&quot;00101&quot;</span>                     <span class="c1"># PLMN broadcasted by the gNB.</span>
  <span class="n">tac</span><span class="p">:</span> <span class="mi">7</span>                            <span class="c1"># Tracking area code (needs to match the core configuration).</span>
  <span class="n">pdcch</span><span class="p">:</span>
    <span class="n">common</span><span class="p">:</span>
      <span class="n">ss0_index</span><span class="p">:</span> <span class="mi">0</span>                  <span class="c1"># Set search space zero index to match srsUE capabilities</span>
      <span class="n">coreset0_index</span><span class="p">:</span> <span class="mi">12</span>            <span class="c1"># Set search CORESET Zero index to match srsUE capabilities</span>
    <span class="n">dedicated</span><span class="p">:</span>
      <span class="n">ss2_type</span><span class="p">:</span> <span class="n">common</span>              <span class="c1"># Search Space type, has to be set to common</span>
      <span class="n">dci_format_0_1_and_1_1</span><span class="p">:</span> <span class="n">false</span> <span class="c1"># Set correct DCI format (fallback)</span>
  <span class="n">prach</span><span class="p">:</span>
    <span class="n">prach_config_index</span><span class="p">:</span> <span class="mi">1</span>           <span class="c1"># Sets PRACH config to match what is expected by srsUE</span>
</pre></div>
</div>
</section>
<section id="srsue">
<h4>srsUE<a class="headerlink" href="#srsue" title="Link to this heading"></a></h4>
<p>The following changes need to be made to the UE configuration file to allow it to connect to the gNB in SA mode.</p>
<p>First, the following parameters need to be changed under the <strong>[rf]</strong> options so that the B210 is configured optimally:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">rf</span><span class="p">]</span>
<span class="n">freq_offset</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">tx_gain</span> <span class="o">=</span> <span class="mi">50</span>
<span class="n">rx_gain</span> <span class="o">=</span> <span class="mi">40</span>
<span class="n">srate</span> <span class="o">=</span> <span class="mf">23.04e6</span>
<span class="n">nof_antennas</span> <span class="o">=</span> <span class="mi">1</span>

<span class="n">device_name</span> <span class="o">=</span> <span class="n">uhd</span>
<span class="n">device_args</span> <span class="o">=</span> <span class="n">clock</span><span class="o">=</span><span class="n">external</span>
<span class="n">time_adv_nsamples</span> <span class="o">=</span> <span class="mi">300</span>
</pre></div>
</div>
<p>The next set of changes need to be made to the <strong>[rat.eutra]</strong> options. The LTE carrier is disabled, to force the UE to use a 5G NR carrier:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">rat</span><span class="o">.</span><span class="n">eutra</span><span class="p">]</span>
<span class="n">dl_earfcn</span> <span class="o">=</span> <span class="mi">2850</span>
<span class="n">nof_carriers</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
<p>Then, the <strong>[rat.nr]</strong> options need to be configured for 5G SA mode operation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">rat</span><span class="o">.</span><span class="n">nr</span><span class="p">]</span>
<span class="n">bands</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">nof_carriers</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">max_nof_prb</span> <span class="o">=</span> <span class="mi">106</span>
<span class="n">nof_prb</span> <span class="o">=</span> <span class="mi">106</span>
</pre></div>
</div>
<p>The <cite>max_nof_prb</cite> and <cite>nof_prb</cite> parameters have to be adapted for the used bandwidth according to the following table:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>BW</p></th>
<th class="head"><p>PRBs</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>5</p></td>
<td><p>25</p></td>
</tr>
<tr class="row-odd"><td><p>10</p></td>
<td><p>52</p></td>
</tr>
<tr class="row-even"><td><p>15</p></td>
<td><p>79</p></td>
</tr>
<tr class="row-odd"><td><p>20</p></td>
<td><p>106</p></td>
</tr>
</tbody>
</table>
<p>Lastly, set the release and ue_category:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">rrc</span><span class="p">]</span>
<span class="n">release</span> <span class="o">=</span> <span class="mi">15</span>
<span class="n">ue_category</span> <span class="o">=</span> <span class="mi">4</span>
</pre></div>
</div>
<p>Note that the following (default) USIM Credentials are used:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">usim</span><span class="p">]</span>
<span class="n">mode</span> <span class="o">=</span> <span class="n">soft</span>
<span class="n">algo</span> <span class="o">=</span> <span class="n">milenage</span>
<span class="n">opc</span>  <span class="o">=</span> <span class="mi">63</span><span class="n">BFA50EE6523365FF14C1F45F88737D</span>
<span class="n">k</span>    <span class="o">=</span> <span class="mi">00112233445566778899</span><span class="n">aabbccddeeff</span>
<span class="n">imsi</span> <span class="o">=</span> <span class="mi">001010123456780</span>
<span class="n">imei</span> <span class="o">=</span> <span class="mi">353490069873319</span>
</pre></div>
</div>
<p>The APN is enabled with the following configuration:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">nas</span><span class="p">]</span>
<span class="n">apn</span> <span class="o">=</span> <span class="n">srsapn</span>
<span class="n">apn_protocol</span> <span class="o">=</span> <span class="n">ipv4</span>
</pre></div>
</div>
</section>
</section>
<section id="running-the-network">
<h3>Running the Network<a class="headerlink" href="#running-the-network" title="Link to this heading"></a></h3>
<p>The following order should be used when running the network:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>5GC</p></li>
<li><p>gNB</p></li>
<li><p>UE</p></li>
</ol>
</div></blockquote>
<section id="open5gs-core">
<h4>Open5GS Core<a class="headerlink" href="#open5gs-core" title="Link to this heading"></a></h4>
<p>srsRAN Project provides a dockerized version of the Open5GS. It is a convenient and quick way to start the core network. You can run it as follows:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>./srsRAN_Project/docker
docker<span class="w"> </span>compose<span class="w"> </span>up<span class="w"> </span>--build<span class="w"> </span>5gc
</pre></div>
</div>
<p>Note that we have already configured Open5GS to operate correctly with srsRAN Project gNB. Moreover, the UE database is populated with the credentials used by our srsUE.</p>
</section>
<section id="id4">
<h4>gNB<a class="headerlink" href="#id4" title="Link to this heading"></a></h4>
<p>We run gNB directly from the build folder (the config file is also located there) with the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">./</span><span class="n">gnb</span> <span class="o">-</span><span class="n">c</span> <span class="o">./</span><span class="n">gnb</span><span class="o">.</span><span class="n">yaml</span>
</pre></div>
</div>
<p>The console output should be similar to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">--==</span> <span class="n">srsRAN</span> <span class="n">gNB</span> <span class="p">(</span><span class="n">commit</span> <span class="mi">374200</span><span class="n">dee</span><span class="p">)</span> <span class="o">==--</span>

<span class="n">Connecting</span> <span class="n">to</span> <span class="n">AMF</span> <span class="n">on</span> <span class="mf">10.53.1.2</span><span class="p">:</span><span class="mi">38412</span>
<span class="p">[</span><span class="n">INFO</span><span class="p">]</span> <span class="p">[</span><span class="n">UHD</span><span class="p">]</span> <span class="n">linux</span><span class="p">;</span> <span class="n">GNU</span> <span class="n">C</span><span class="o">++</span> <span class="n">version</span> <span class="mf">9.2.1</span> <span class="mi">20200304</span><span class="p">;</span> <span class="n">Boost_107100</span><span class="p">;</span> <span class="n">UHD_3</span><span class="mf">.15.0.0</span><span class="o">-</span><span class="mi">2</span><span class="n">build5</span>
<span class="p">[</span><span class="n">INFO</span><span class="p">]</span> <span class="p">[</span><span class="n">LOGGING</span><span class="p">]</span> <span class="n">Fastpath</span> <span class="n">logging</span> <span class="n">disabled</span> <span class="n">at</span> <span class="n">runtime</span><span class="o">.</span>
<span class="n">Making</span> <span class="n">USRP</span> <span class="nb">object</span> <span class="k">with</span> <span class="n">args</span> <span class="s1">&#39;type=b200&#39;</span>
<span class="p">[</span><span class="n">INFO</span><span class="p">]</span> <span class="p">[</span><span class="n">B200</span><span class="p">]</span> <span class="n">Detected</span> <span class="n">Device</span><span class="p">:</span> <span class="n">B210</span>
<span class="p">[</span><span class="n">INFO</span><span class="p">]</span> <span class="p">[</span><span class="n">B200</span><span class="p">]</span> <span class="n">Operating</span> <span class="n">over</span> <span class="n">USB</span> <span class="mf">3.</span>
<span class="p">[</span><span class="n">INFO</span><span class="p">]</span> <span class="p">[</span><span class="n">B200</span><span class="p">]</span> <span class="n">Initialize</span> <span class="n">CODEC</span> <span class="n">control</span><span class="o">...</span>
<span class="p">[</span><span class="n">INFO</span><span class="p">]</span> <span class="p">[</span><span class="n">B200</span><span class="p">]</span> <span class="n">Initialize</span> <span class="n">Radio</span> <span class="n">control</span><span class="o">...</span>
<span class="p">[</span><span class="n">INFO</span><span class="p">]</span> <span class="p">[</span><span class="n">B200</span><span class="p">]</span> <span class="n">Performing</span> <span class="n">register</span> <span class="n">loopback</span> <span class="n">test</span><span class="o">...</span>
<span class="p">[</span><span class="n">INFO</span><span class="p">]</span> <span class="p">[</span><span class="n">B200</span><span class="p">]</span> <span class="n">Register</span> <span class="n">loopback</span> <span class="n">test</span> <span class="n">passed</span>
<span class="p">[</span><span class="n">INFO</span><span class="p">]</span> <span class="p">[</span><span class="n">B200</span><span class="p">]</span> <span class="n">Performing</span> <span class="n">register</span> <span class="n">loopback</span> <span class="n">test</span><span class="o">...</span>
<span class="p">[</span><span class="n">INFO</span><span class="p">]</span> <span class="p">[</span><span class="n">B200</span><span class="p">]</span> <span class="n">Register</span> <span class="n">loopback</span> <span class="n">test</span> <span class="n">passed</span>
<span class="p">[</span><span class="n">INFO</span><span class="p">]</span> <span class="p">[</span><span class="n">B200</span><span class="p">]</span> <span class="n">Setting</span> <span class="n">master</span> <span class="n">clock</span> <span class="n">rate</span> <span class="n">selection</span> <span class="n">to</span> <span class="s1">&#39;automatic&#39;</span><span class="o">.</span>
<span class="p">[</span><span class="n">INFO</span><span class="p">]</span> <span class="p">[</span><span class="n">B200</span><span class="p">]</span> <span class="n">Asking</span> <span class="k">for</span> <span class="n">clock</span> <span class="n">rate</span> <span class="mf">16.000000</span> <span class="n">MHz</span><span class="o">...</span>
<span class="p">[</span><span class="n">INFO</span><span class="p">]</span> <span class="p">[</span><span class="n">B200</span><span class="p">]</span> <span class="n">Actually</span> <span class="n">got</span> <span class="n">clock</span> <span class="n">rate</span> <span class="mf">16.000000</span> <span class="n">MHz</span><span class="o">.</span>
<span class="p">[</span><span class="n">INFO</span><span class="p">]</span> <span class="p">[</span><span class="n">MULTI_USRP</span><span class="p">]</span> <span class="n">Setting</span> <span class="n">master</span> <span class="n">clock</span> <span class="n">rate</span> <span class="n">selection</span> <span class="n">to</span> <span class="s1">&#39;manual&#39;</span><span class="o">.</span>
<span class="p">[</span><span class="n">INFO</span><span class="p">]</span> <span class="p">[</span><span class="n">B200</span><span class="p">]</span> <span class="n">Asking</span> <span class="k">for</span> <span class="n">clock</span> <span class="n">rate</span> <span class="mf">23.040000</span> <span class="n">MHz</span><span class="o">...</span>
<span class="p">[</span><span class="n">INFO</span><span class="p">]</span> <span class="p">[</span><span class="n">B200</span><span class="p">]</span> <span class="n">Actually</span> <span class="n">got</span> <span class="n">clock</span> <span class="n">rate</span> <span class="mf">23.040000</span> <span class="n">MHz</span><span class="o">.</span>
<span class="n">Cell</span> <span class="n">pci</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">bw</span><span class="o">=</span><span class="mi">20</span> <span class="n">MHz</span><span class="p">,</span> <span class="n">dl_arfcn</span><span class="o">=</span><span class="mi">368500</span> <span class="p">(</span><span class="n">n3</span><span class="p">),</span> <span class="n">dl_freq</span><span class="o">=</span><span class="mf">1842.5</span> <span class="n">MHz</span><span class="p">,</span> <span class="n">dl_ssb_arfcn</span><span class="o">=</span><span class="mi">368410</span><span class="p">,</span> <span class="n">ul_freq</span><span class="o">=</span><span class="mf">1747.5</span> <span class="n">MHz</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">Connecting</span> <span class="pre">to</span> <span class="pre">AMF</span> <span class="pre">on</span> <span class="pre">10.53.1.2:38412</span></code> message indicates that gNB initiated a connection to the core.
If the connection attempt is successful, the following (or similar) will be displayed on the Open5GS console:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Open5GS</span>    <span class="o">|</span> <span class="mi">04</span><span class="o">/</span><span class="mi">17</span> <span class="mi">10</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mf">43.567</span><span class="p">:</span> <span class="p">[</span><span class="n">amf</span><span class="p">]</span> <span class="n">INFO</span><span class="p">:</span> <span class="n">gNB</span><span class="o">-</span><span class="n">N2</span> <span class="n">accepted</span><span class="p">[</span><span class="mf">10.53.1.1</span><span class="p">]:</span><span class="mi">41578</span> <span class="ow">in</span> <span class="n">ng</span><span class="o">-</span><span class="n">path</span> <span class="n">module</span> <span class="p">(</span><span class="o">../</span><span class="n">src</span><span class="o">/</span><span class="n">amf</span><span class="o">/</span><span class="n">ngap</span><span class="o">-</span><span class="n">sctp</span><span class="o">.</span><span class="n">c</span><span class="p">:</span><span class="mi">113</span><span class="p">)</span>
<span class="n">Open5GS</span>    <span class="o">|</span> <span class="mi">04</span><span class="o">/</span><span class="mi">17</span> <span class="mi">10</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mf">43.567</span><span class="p">:</span> <span class="p">[</span><span class="n">amf</span><span class="p">]</span> <span class="n">INFO</span><span class="p">:</span> <span class="n">gNB</span><span class="o">-</span><span class="n">N2</span> <span class="n">accepted</span><span class="p">[</span><span class="mf">10.53.1.1</span><span class="p">]</span> <span class="ow">in</span> <span class="n">master_sm</span> <span class="n">module</span> <span class="p">(</span><span class="o">../</span><span class="n">src</span><span class="o">/</span><span class="n">amf</span><span class="o">/</span><span class="n">amf</span><span class="o">-</span><span class="n">sm</span><span class="o">.</span><span class="n">c</span><span class="p">:</span><span class="mi">706</span><span class="p">)</span>
<span class="n">Open5GS</span>    <span class="o">|</span> <span class="mi">04</span><span class="o">/</span><span class="mi">17</span> <span class="mi">10</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mf">43.567</span><span class="p">:</span> <span class="p">[</span><span class="n">amf</span><span class="p">]</span> <span class="n">INFO</span><span class="p">:</span> <span class="p">[</span><span class="n">Added</span><span class="p">]</span> <span class="n">Number</span> <span class="n">of</span> <span class="n">gNBs</span> <span class="ow">is</span> <span class="n">now</span> <span class="mi">1</span> <span class="p">(</span><span class="o">../</span><span class="n">src</span><span class="o">/</span><span class="n">amf</span><span class="o">/</span><span class="n">context</span><span class="o">.</span><span class="n">c</span><span class="p">:</span><span class="mi">1034</span><span class="p">)</span>
<span class="n">Open5GS</span>    <span class="o">|</span> <span class="mi">04</span><span class="o">/</span><span class="mi">17</span> <span class="mi">10</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mf">43.567</span><span class="p">:</span> <span class="p">[</span><span class="n">amf</span><span class="p">]</span> <span class="n">INFO</span><span class="p">:</span> <span class="n">gNB</span><span class="o">-</span><span class="n">N2</span><span class="p">[</span><span class="mf">10.53.1.1</span><span class="p">]</span> <span class="n">max_num_of_ostreams</span> <span class="p">:</span> <span class="mi">30</span> <span class="p">(</span><span class="o">../</span><span class="n">src</span><span class="o">/</span><span class="n">amf</span><span class="o">/</span><span class="n">amf</span><span class="o">-</span><span class="n">sm</span><span class="o">.</span><span class="n">c</span><span class="p">:</span><span class="mi">745</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id5">
<h4>srsUE<a class="headerlink" href="#id5" title="Link to this heading"></a></h4>
<p>Finally, we start srsUE. This is also done directly from within the build folder, with the config file in the same location:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">./</span><span class="n">srsue</span> <span class="n">ue_rf</span><span class="o">.</span><span class="n">conf</span>
</pre></div>
</div>
<p>If srsUE connects successfully to the network, the following (or similar) should be displayed on the console:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Reading configuration file ./ue_rf.conf...

Built in Release mode using commit eea87b1d8 on branch master.

Opening 1 channels in RF device=default with args=clock=external
Supported RF device list: UHD zmq file
Trying to open RF device &#39;UHD&#39;
[INFO] [UHD] linux; GNU C++ version 9.2.1 20200304; Boost_107100; UHD_3.15.0.0-2build5
[INFO] [LOGGING] Fastpath logging disabled at runtime.
[INFO] [MPMD FIND] Found MPM devices, but none are reachable for a UHD session. Specify find_all to find all devices.
Opening USRP channels=1, args: type=b200,master_clock_rate=23.04e6
[INFO] [UHD RF] RF UHD Generic instance constructed
[INFO] [B200] Detected Device: B210
[INFO] [B200] Operating over USB 3.
[INFO] [B200] Initialize CODEC control...
[INFO] [B200] Initialize Radio control...
[INFO] [B200] Performing register loopback test...
[INFO] [B200] Register loopback test passed
[INFO] [B200] Performing register loopback test...
[INFO] [B200] Register loopback test passed
[INFO] [B200] Asking for clock rate 23.040000 MHz...
[INFO] [B200] Actually got clock rate 23.040000 MHz.
RF device &#39;UHD&#39; successfully opened
Setting manual TX/RX offset to 300 samples
Waiting PHY to initialize ... done!
Attaching UE...
Random Access Transmission: prach_occasion=0, preamble_index=0, ra-rnti=0x39, tti=2094
Random Access Complete.     c-rnti=0x4602, ta=0
RRC Connected
PDU Session Establishment successful. IP: 10.45.1.2
RRC NR reconfiguration successful.
</pre></div>
</div>
<p>It is clear that the connection has been made successfully once the UE has been assigned an IP, this is seen in <code class="docutils literal notranslate"><span class="pre">PDU</span> <span class="pre">Session</span> <span class="pre">Establishment</span> <span class="pre">successful.</span> <span class="pre">IP:</span> <span class="pre">10.45.1.2</span></code>.
The NR connection is then confirmed with the <code class="docutils literal notranslate"><span class="pre">RRC</span> <span class="pre">NR</span> <span class="pre">reconfiguration</span> <span class="pre">successful.</span></code> message.</p>
</section>
</section>
<section id="testing-the-network">
<h3>Testing the Network<a class="headerlink" href="#testing-the-network" title="Link to this heading"></a></h3>
<p>Here, we demonstrate how to use ping and iPerf3 tools to test the connectivity and throughput in the network.</p>
<section id="routing-configuration">
<span id="ota-routing"></span><h4>Routing Configuration<a class="headerlink" href="#routing-configuration" title="Link to this heading"></a></h4>
<p>Before being able to ping UE, you need to add a route to the UE on the <strong>host machine</strong> (i.e. the one running the Open5GS docker container):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>ip<span class="w"> </span>ro<span class="w"> </span>add<span class="w"> </span><span class="m">10</span>.45.0.0/16<span class="w"> </span>via<span class="w"> </span><span class="m">10</span>.53.1.2
</pre></div>
</div>
<p>Check the host routing table:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>route<span class="w"> </span>-n
</pre></div>
</div>
<p>It should contain the following entries (note that Iface names might be different):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Kernel<span class="w"> </span>IP<span class="w"> </span>routing<span class="w"> </span>table
Destination<span class="w">     </span>Gateway<span class="w">         </span>Genmask<span class="w">         </span>Flags<span class="w"> </span>Metric<span class="w"> </span>Ref<span class="w">    </span>Use<span class="w"> </span>Iface
<span class="m">0</span>.0.0.0<span class="w">         </span><span class="m">192</span>.168.0.1<span class="w">     </span><span class="m">0</span>.0.0.0<span class="w">         </span>UG<span class="w">    </span><span class="m">100</span><span class="w">    </span><span class="m">0</span><span class="w">        </span><span class="m">0</span><span class="w"> </span>eno1
<span class="m">10</span>.45.0.0<span class="w">       </span><span class="m">10</span>.53.1.2<span class="w">       </span><span class="m">255</span>.255.0.0<span class="w">     </span>UG<span class="w">    </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">        </span><span class="m">0</span><span class="w"> </span>br-dfa5521eb807
<span class="m">10</span>.53.1.0<span class="w">       </span><span class="m">0</span>.0.0.0<span class="w">         </span><span class="m">255</span>.255.255.0<span class="w">   </span>U<span class="w">     </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">        </span><span class="m">0</span><span class="w"> </span>br-dfa5521eb807
...
</pre></div>
</div>
<p>Next, add a default route for the UE as follows:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>ip<span class="w"> </span>route<span class="w"> </span>add<span class="w"> </span>default<span class="w"> </span>via<span class="w"> </span><span class="m">10</span>.45.1.1<span class="w"> </span>dev<span class="w"> </span>tun_srsue
</pre></div>
</div>
</section>
<section id="ping">
<h4>Ping<a class="headerlink" href="#ping" title="Link to this heading"></a></h4>
<p>Ping is the simplest tool to test the end-to-end connectivity in the network, i.e., it tests whether the UE and core can communicate.</p>
<ul class="simple">
<li><p><strong>Uplink</strong></p></li>
</ul>
<p>To test the connection in the uplink direction, run the following command from the UE machine:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ping</span> <span class="mf">10.45.1.1</span>
</pre></div>
</div>
<ul class="simple">
<li><p><strong>Downlink</strong></p></li>
</ul>
<p>To test the connection in the downlink direction, run the following command from the machine running the core network (i.e., Open5GS docker container):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ping</span> <span class="mf">10.45.1.2</span>
</pre></div>
</div>
<p>The IP for the UE can be taken from the UE console output. This might change each time a UE reconnects to the network, so it is best practice to always double-check the latest IP assigned by reading it
from the console before running the downlink traffic.</p>
<ul class="simple">
<li><p><strong>Ping Output</strong></p></li>
</ul>
<p>Example <strong>ping</strong> output:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># ping 10.45.1.1 -c 4</span>
<span class="n">PING</span> <span class="mf">10.45.1.1</span> <span class="p">(</span><span class="mf">10.45.1.1</span><span class="p">)</span> <span class="mi">56</span><span class="p">(</span><span class="mi">84</span><span class="p">)</span> <span class="nb">bytes</span> <span class="n">of</span> <span class="n">data</span><span class="o">.</span>
<span class="mi">64</span> <span class="nb">bytes</span> <span class="kn">from</span> <span class="mf">10.45.1.1</span><span class="p">:</span> <span class="n">icmp_seq</span><span class="o">=</span><span class="mi">1</span> <span class="n">ttl</span><span class="o">=</span><span class="mi">64</span> <span class="n">time</span><span class="o">=</span><span class="mf">39.9</span> <span class="n">ms</span>
<span class="mi">64</span> <span class="nb">bytes</span> <span class="kn">from</span> <span class="mf">10.45.1.1</span><span class="p">:</span> <span class="n">icmp_seq</span><span class="o">=</span><span class="mi">2</span> <span class="n">ttl</span><span class="o">=</span><span class="mi">64</span> <span class="n">time</span><span class="o">=</span><span class="mf">38.9</span> <span class="n">ms</span>
<span class="mi">64</span> <span class="nb">bytes</span> <span class="kn">from</span> <span class="mf">10.45.1.1</span><span class="p">:</span> <span class="n">icmp_seq</span><span class="o">=</span><span class="mi">3</span> <span class="n">ttl</span><span class="o">=</span><span class="mi">64</span> <span class="n">time</span><span class="o">=</span><span class="mf">37.0</span> <span class="n">ms</span>
<span class="mi">64</span> <span class="nb">bytes</span> <span class="kn">from</span> <span class="mf">10.45.1.1</span><span class="p">:</span> <span class="n">icmp_seq</span><span class="o">=</span><span class="mi">4</span> <span class="n">ttl</span><span class="o">=</span><span class="mi">64</span> <span class="n">time</span><span class="o">=</span><span class="mf">36.1</span> <span class="n">ms</span>

<span class="o">---</span> <span class="mf">10.45.1.1</span> <span class="n">ping</span> <span class="n">statistics</span> <span class="o">---</span>
<span class="mi">4</span> <span class="n">packets</span> <span class="n">transmitted</span><span class="p">,</span> <span class="mi">4</span> <span class="n">received</span><span class="p">,</span> <span class="mi">0</span><span class="o">%</span> <span class="n">packet</span> <span class="n">loss</span><span class="p">,</span> <span class="n">time</span> <span class="mi">3004</span><span class="n">ms</span>
<span class="n">rtt</span> <span class="nb">min</span><span class="o">/</span><span class="n">avg</span><span class="o">/</span><span class="nb">max</span><span class="o">/</span><span class="n">mdev</span> <span class="o">=</span> <span class="mf">36.085</span><span class="o">/</span><span class="mf">37.952</span><span class="o">/</span><span class="mf">39.859</span><span class="o">/</span><span class="mf">1.493</span> <span class="n">ms</span>
</pre></div>
</div>
</section>
<section id="iperf3">
<h4>iPerf3<a class="headerlink" href="#iperf3" title="Link to this heading"></a></h4>
<p>iPerf3 is a tool that generates (TCP and UDP) traffic and measures parameters (e.g., throughput and packet loss) of the traffic flow.</p>
<p>In this example, we generate traffic in the uplink direction. To this end, we run an iPerf3 client on the UE side and a server on the network side. UDP traffic will be generated at 10Mbps for 60 seconds. It is important to start the server first, and then the client.</p>
<ul class="simple">
<li><p><strong>Network-side</strong></p></li>
</ul>
<p>Start the iPerf3 server the machine running the core network (i.e., Open5GS docker container):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">iperf3</span> <span class="o">-</span><span class="n">s</span> <span class="o">-</span><span class="n">i</span> <span class="mi">1</span>
</pre></div>
</div>
<p>The server listens for traffic coming from the UE. After the client connects, the server prints flow measurements every second.</p>
<ul class="simple">
<li><p><strong>UE-side</strong></p></li>
</ul>
<p>With the network and the iPerf3 server up and running, the client can be run from the UE’s machine with the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># TCP</span>
<span class="n">iperf3</span> <span class="o">-</span><span class="n">c</span> <span class="mf">10.53.1.1</span> <span class="o">-</span><span class="n">i</span> <span class="mi">1</span> <span class="o">-</span><span class="n">t</span> <span class="mi">60</span>
<span class="c1"># or UDP</span>
<span class="n">iperf3</span> <span class="o">-</span><span class="n">c</span> <span class="mf">10.53.1.1</span> <span class="o">-</span><span class="n">i</span> <span class="mi">1</span> <span class="o">-</span><span class="n">t</span> <span class="mi">60</span> <span class="o">-</span><span class="n">u</span> <span class="o">-</span><span class="n">b</span> <span class="mi">10</span><span class="n">M</span>
</pre></div>
</div>
<p>Traffic will now be sent from the UE to the network. This will be shown in both the server and client consoles. Additionaly, we will observe console traces of the UE and the gNB.</p>
<p><strong>Note:</strong> All routes have to be configured as presented in  <a class="hxr-hoverxref hxr-tooltip reference internal" href="#ota-routing"><span class="std std-ref">Routing Configuration for USRP-based setup</span></a> section.</p>
<ul class="simple">
<li><p><strong>Iperf3 Output</strong></p></li>
</ul>
<p>Example <strong>server</strong> iPerf3 output:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># iperf3 -s -i 1</span>
<span class="o">-----------------------------------------------------------</span>
<span class="n">Server</span> <span class="n">listening</span> <span class="n">on</span> <span class="mi">5201</span>
<span class="o">-----------------------------------------------------------</span>
<span class="n">Accepted</span> <span class="n">connection</span> <span class="kn">from</span> <span class="mf">10.45.1.2</span><span class="p">,</span> <span class="n">port</span> <span class="mi">40544</span>
<span class="p">[</span>  <span class="mi">5</span><span class="p">]</span> <span class="n">local</span> <span class="mf">10.45.1.1</span> <span class="n">port</span> <span class="mi">5201</span> <span class="n">connected</span> <span class="n">to</span> <span class="mf">10.45.1.2</span> <span class="n">port</span> <span class="mi">40546</span>
<span class="p">[</span> <span class="n">ID</span><span class="p">]</span> <span class="n">Interval</span>           <span class="n">Transfer</span>     <span class="n">Bitrate</span>
<span class="p">[</span>  <span class="mi">5</span><span class="p">]</span>   <span class="mf">0.00</span><span class="o">-</span><span class="mf">1.00</span>   <span class="n">sec</span>  <span class="mf">1.20</span> <span class="n">MBytes</span>  <span class="mf">10.1</span> <span class="n">Mbits</span><span class="o">/</span><span class="n">sec</span>
<span class="p">[</span>  <span class="mi">5</span><span class="p">]</span>   <span class="mf">1.00</span><span class="o">-</span><span class="mf">2.00</span>   <span class="n">sec</span>  <span class="mf">1.22</span> <span class="n">MBytes</span>  <span class="mf">10.2</span> <span class="n">Mbits</span><span class="o">/</span><span class="n">sec</span>
<span class="p">[</span>  <span class="mi">5</span><span class="p">]</span>   <span class="mf">2.00</span><span class="o">-</span><span class="mf">3.00</span>   <span class="n">sec</span>  <span class="mf">1.16</span> <span class="n">MBytes</span>  <span class="mf">9.71</span> <span class="n">Mbits</span><span class="o">/</span><span class="n">sec</span>
<span class="p">[</span>  <span class="mi">5</span><span class="p">]</span>   <span class="mf">3.00</span><span class="o">-</span><span class="mf">4.00</span>   <span class="n">sec</span>  <span class="mf">1.12</span> <span class="n">MBytes</span>  <span class="mf">9.44</span> <span class="n">Mbits</span><span class="o">/</span><span class="n">sec</span>
<span class="p">[</span>  <span class="mi">5</span><span class="p">]</span>   <span class="mf">4.00</span><span class="o">-</span><span class="mf">5.00</span>   <span class="n">sec</span>  <span class="mf">1.25</span> <span class="n">MBytes</span>  <span class="mf">10.5</span> <span class="n">Mbits</span><span class="o">/</span><span class="n">sec</span>
<span class="p">[</span>  <span class="mi">5</span><span class="p">]</span>   <span class="mf">5.00</span><span class="o">-</span><span class="mf">6.00</span>   <span class="n">sec</span>  <span class="mf">1.25</span> <span class="n">MBytes</span>  <span class="mf">10.5</span> <span class="n">Mbits</span><span class="o">/</span><span class="n">sec</span>
</pre></div>
</div>
<p>Example <strong>client</strong> iPerf3 output:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># iperf3 -c 10.53.1.1 -i 1 -t 60 -u -b 10M</span>
<span class="n">Connecting</span> <span class="n">to</span> <span class="n">host</span> <span class="mf">10.45.1.1</span><span class="p">,</span> <span class="n">port</span> <span class="mi">5201</span>
<span class="p">[</span>  <span class="mi">5</span><span class="p">]</span> <span class="n">local</span> <span class="mf">10.45.1.2</span> <span class="n">port</span> <span class="mi">40546</span> <span class="n">connected</span> <span class="n">to</span> <span class="mf">10.45.1.1</span> <span class="n">port</span> <span class="mi">5201</span>
<span class="p">[</span> <span class="n">ID</span><span class="p">]</span> <span class="n">Interval</span>           <span class="n">Transfer</span>     <span class="n">Bitrate</span>         <span class="n">Retr</span>  <span class="n">Cwnd</span>
<span class="p">[</span>  <span class="mi">5</span><span class="p">]</span>   <span class="mf">0.00</span><span class="o">-</span><span class="mf">1.00</span>   <span class="n">sec</span>  <span class="mf">1.20</span> <span class="n">MBytes</span>  <span class="mf">10.1</span> <span class="n">Mbits</span><span class="o">/</span><span class="n">sec</span>    <span class="mi">0</span>    <span class="mi">117</span> <span class="n">KBytes</span>
<span class="p">[</span>  <span class="mi">5</span><span class="p">]</span>   <span class="mf">1.00</span><span class="o">-</span><span class="mf">2.00</span>   <span class="n">sec</span>  <span class="mf">1.25</span> <span class="n">MBytes</span>  <span class="mf">10.5</span> <span class="n">Mbits</span><span class="o">/</span><span class="n">sec</span>    <span class="mi">0</span>    <span class="mi">130</span> <span class="n">KBytes</span>
<span class="p">[</span>  <span class="mi">5</span><span class="p">]</span>   <span class="mf">2.00</span><span class="o">-</span><span class="mf">3.00</span>   <span class="n">sec</span>  <span class="mf">1.25</span> <span class="n">MBytes</span>  <span class="mf">10.5</span> <span class="n">Mbits</span><span class="o">/</span><span class="n">sec</span>    <span class="mi">0</span>    <span class="mi">130</span> <span class="n">KBytes</span>
<span class="p">[</span>  <span class="mi">5</span><span class="p">]</span>   <span class="mf">3.00</span><span class="o">-</span><span class="mf">4.00</span>   <span class="n">sec</span>  <span class="mf">1.12</span> <span class="n">MBytes</span>  <span class="mf">9.44</span> <span class="n">Mbits</span><span class="o">/</span><span class="n">sec</span>    <span class="mi">0</span>    <span class="mi">130</span> <span class="n">KBytes</span>
<span class="p">[</span>  <span class="mi">5</span><span class="p">]</span>   <span class="mf">4.00</span><span class="o">-</span><span class="mf">5.00</span>   <span class="n">sec</span>  <span class="mf">1.25</span> <span class="n">MBytes</span>  <span class="mf">10.5</span> <span class="n">Mbits</span><span class="o">/</span><span class="n">sec</span>    <span class="mi">0</span>    <span class="mi">130</span> <span class="n">KBytes</span>
<span class="p">[</span>  <span class="mi">5</span><span class="p">]</span>   <span class="mf">5.00</span><span class="o">-</span><span class="mf">6.00</span>   <span class="n">sec</span>  <span class="mf">1.12</span> <span class="n">MBytes</span>  <span class="mf">9.44</span> <span class="n">Mbits</span><span class="o">/</span><span class="n">sec</span>    <span class="mi">0</span>    <span class="mi">130</span> <span class="n">KBytes</span>
</pre></div>
</div>
<ul class="simple">
<li><p><strong>Console Traces</strong></p></li>
</ul>
<p>The following example trace was taken from the <strong>srsUE console</strong> while running the above iPerf3 test:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">---------</span><span class="n">Signal</span><span class="o">-----------|-----------------</span><span class="n">DL</span><span class="o">-----------------|-----------</span><span class="n">UL</span><span class="o">-----------</span>
<span class="n">rat</span>  <span class="n">pci</span>  <span class="n">rsrp</span>   <span class="n">pl</span>   <span class="n">cfo</span> <span class="o">|</span> <span class="n">mcs</span>  <span class="n">snr</span>  <span class="nb">iter</span>  <span class="n">brate</span>  <span class="n">bler</span>  <span class="n">ta_us</span> <span class="o">|</span> <span class="n">mcs</span>   <span class="n">buff</span>  <span class="n">brate</span>  <span class="n">bler</span>
 <span class="n">nr</span>    <span class="mi">1</span>     <span class="mi">0</span>    <span class="mi">0</span> <span class="o">-</span><span class="mi">457</span><span class="n">m</span> <span class="o">|</span>  <span class="mi">27</span>   <span class="mi">43</span>   <span class="mf">1.3</span>   <span class="mi">274</span><span class="n">k</span>    <span class="mi">0</span><span class="o">%</span>    <span class="mf">0.0</span> <span class="o">|</span>  <span class="mi">27</span>   <span class="mi">136</span><span class="n">k</span>    <span class="mi">13</span><span class="n">M</span>    <span class="mi">0</span><span class="o">%</span>
 <span class="n">nr</span>    <span class="mi">1</span>     <span class="mi">0</span>    <span class="mi">0</span> <span class="o">-</span><span class="mi">122</span><span class="n">m</span> <span class="o">|</span>  <span class="mi">27</span>   <span class="mi">43</span>   <span class="mf">1.4</span>   <span class="mi">285</span><span class="n">k</span>    <span class="mi">0</span><span class="o">%</span>    <span class="mf">0.0</span> <span class="o">|</span>  <span class="mi">27</span>    <span class="mf">0.0</span>    <span class="mi">13</span><span class="n">M</span>    <span class="mi">0</span><span class="o">%</span>
 <span class="n">nr</span>    <span class="mi">1</span>     <span class="mi">0</span>    <span class="mi">0</span> <span class="o">-</span><span class="mi">282</span><span class="n">m</span> <span class="o">|</span>  <span class="mi">27</span>   <span class="mi">43</span>   <span class="mf">1.3</span>   <span class="mi">267</span><span class="n">k</span>    <span class="mi">0</span><span class="o">%</span>    <span class="mf">0.0</span> <span class="o">|</span>  <span class="mi">27</span>    <span class="mi">47</span><span class="n">k</span>    <span class="mi">13</span><span class="n">M</span>    <span class="mi">0</span><span class="o">%</span>
 <span class="n">nr</span>    <span class="mi">1</span>     <span class="mi">0</span>    <span class="mi">0</span>  <span class="o">-</span><span class="mi">14</span><span class="n">m</span> <span class="o">|</span>  <span class="mi">27</span>   <span class="mi">43</span>   <span class="mf">1.4</span>   <span class="mi">274</span><span class="n">k</span>    <span class="mi">0</span><span class="o">%</span>    <span class="mf">0.0</span> <span class="o">|</span>  <span class="mi">27</span>    <span class="mf">3.0</span>    <span class="mi">13</span><span class="n">M</span>    <span class="mi">0</span><span class="o">%</span>
 <span class="n">nr</span>    <span class="mi">1</span>     <span class="mi">0</span>    <span class="mi">0</span> <span class="o">-</span><span class="mi">373</span><span class="n">m</span> <span class="o">|</span>  <span class="mi">27</span>   <span class="mi">43</span>   <span class="mf">1.4</span>   <span class="mi">268</span><span class="n">k</span>    <span class="mi">0</span><span class="o">%</span>    <span class="mf">0.0</span> <span class="o">|</span>  <span class="mi">27</span>    <span class="mi">47</span><span class="n">k</span>    <span class="mi">13</span><span class="n">M</span>    <span class="mi">0</span><span class="o">%</span>
 <span class="n">nr</span>    <span class="mi">1</span>     <span class="mi">0</span>    <span class="mi">0</span>  <span class="mi">244</span><span class="n">m</span> <span class="o">|</span>  <span class="mi">27</span>   <span class="mi">43</span>   <span class="mf">1.3</span>   <span class="mi">274</span><span class="n">k</span>    <span class="mi">0</span><span class="o">%</span>    <span class="mf">0.0</span> <span class="o">|</span>  <span class="mi">27</span>    <span class="mf">0.0</span>    <span class="mi">13</span><span class="n">M</span>    <span class="mi">0</span><span class="o">%</span>
</pre></div>
</div>
<p>To read more about the UE console trace metrics, see the <a class="reference external" href="https://docs.srsran.com/projects/4g/en/latest/usermanuals/source/srsue/source/6_ue_commandref.html#ue-commandref">UE User Manual</a>.</p>
<p>The following example trace was taken from the <strong>gNB console</strong> at the same time period as the srsUE trace shown above:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>          <span class="o">-------------</span><span class="n">DL</span><span class="o">----------------|------------------</span><span class="n">UL</span><span class="o">--------------------</span>
<span class="n">pci</span> <span class="n">rnti</span>  <span class="n">cqi</span>  <span class="n">mcs</span>  <span class="n">brate</span>   <span class="n">ok</span>  <span class="n">nok</span>  <span class="p">(</span><span class="o">%</span><span class="p">)</span> <span class="o">|</span> <span class="n">pusch</span>  <span class="n">mcs</span>  <span class="n">brate</span>   <span class="n">ok</span>  <span class="n">nok</span>  <span class="p">(</span><span class="o">%</span><span class="p">)</span>    <span class="n">bsr</span>
  <span class="mi">1</span> <span class="mi">4601</span>   <span class="mi">15</span>   <span class="mi">27</span>   <span class="mi">275</span><span class="n">k</span>  <span class="mi">328</span>    <span class="mi">0</span>   <span class="mi">0</span><span class="o">%</span> <span class="o">|</span>  <span class="mf">23.2</span>   <span class="mi">28</span>    <span class="mi">13</span><span class="n">M</span>  <span class="mi">398</span>    <span class="mi">0</span>   <span class="mi">0</span><span class="o">%</span>  <span class="mf">55.5</span><span class="n">k</span>
  <span class="mi">1</span> <span class="mi">4601</span>   <span class="mi">15</span>   <span class="mi">27</span>   <span class="mi">266</span><span class="n">k</span>  <span class="mi">336</span>    <span class="mi">0</span>   <span class="mi">0</span><span class="o">%</span> <span class="o">|</span>  <span class="mf">23.1</span>   <span class="mi">28</span>    <span class="mi">13</span><span class="n">M</span>  <span class="mi">387</span>    <span class="mi">0</span>   <span class="mi">0</span><span class="o">%</span>    <span class="mf">0.0</span>
  <span class="mi">1</span> <span class="mi">4601</span>   <span class="mi">15</span>   <span class="mi">27</span>   <span class="mi">284</span><span class="n">k</span>  <span class="mi">349</span>    <span class="mi">0</span>   <span class="mi">0</span><span class="o">%</span> <span class="o">|</span>  <span class="mf">23.1</span>   <span class="mi">28</span>    <span class="mi">13</span><span class="n">M</span>  <span class="mi">410</span>    <span class="mi">1</span>   <span class="mi">0</span><span class="o">%</span>    <span class="mf">0.0</span>
  <span class="mi">1</span> <span class="mi">4601</span>   <span class="mi">15</span>   <span class="mi">27</span>   <span class="mi">258</span><span class="n">k</span>  <span class="mi">315</span>    <span class="mi">0</span>   <span class="mi">0</span><span class="o">%</span> <span class="o">|</span>  <span class="mf">23.1</span>   <span class="mi">28</span>    <span class="mi">12</span><span class="n">M</span>  <span class="mi">371</span>    <span class="mi">0</span>   <span class="mi">0</span><span class="o">%</span>    <span class="mf">0.0</span>
  <span class="mi">1</span> <span class="mi">4601</span>   <span class="mi">15</span>   <span class="mi">27</span>   <span class="mi">275</span><span class="n">k</span>  <span class="mi">330</span>    <span class="mi">0</span>   <span class="mi">0</span><span class="o">%</span> <span class="o">|</span>  <span class="mf">23.2</span>   <span class="mi">28</span>    <span class="mi">13</span><span class="n">M</span>  <span class="mi">394</span>    <span class="mi">0</span>   <span class="mi">0</span><span class="o">%</span>  <span class="mf">55.5</span><span class="n">k</span>
  <span class="mi">1</span> <span class="mi">4601</span>   <span class="mi">15</span>   <span class="mi">27</span>   <span class="mi">265</span><span class="n">k</span>  <span class="mi">332</span>    <span class="mi">0</span>   <span class="mi">0</span><span class="o">%</span> <span class="o">|</span>  <span class="mf">23.2</span>   <span class="mi">28</span>    <span class="mi">13</span><span class="n">M</span>  <span class="mi">386</span>    <span class="mi">1</span>   <span class="mi">0</span><span class="o">%</span>    <span class="mf">0.0</span>
</pre></div>
</div>
</section>
</section>
</section>
<hr class="docutils" />
<section id="zeromq-based-setup">
<h2>ZeroMQ-based Setup<a class="headerlink" href="#zeromq-based-setup" title="Link to this heading"></a></h2>
<p>In this section, we describe the steps required to configure the ZMQ-based RF driver in both gNB and srsUE.
The following diagram presents the setup architecture:</p>
<figure class="align-center">
<img alt="../../../../_images/gNB_srsUE_zmq.png" src="../../../../_images/gNB_srsUE_zmq.png" />
</figure>
<section id="id6">
<h3>Configuration<a class="headerlink" href="#id6" title="Link to this heading"></a></h3>
<p>The following config files were modified to use ZMQ-based RF driver:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference download internal" download="" href="../../../../_downloads/a7c34dbfee2b765503a81edd2f02ec22/gnb_zmq.yaml"><code class="xref download docutils literal notranslate"><span class="pre">gNB</span> <span class="pre">config</span></code></a></p></li>
<li><p><a class="reference download internal" download="" href="../../../../_downloads/fbb79b4ff222d1829649143ca4cf1446/ue_zmq.conf"><code class="xref download docutils literal notranslate"><span class="pre">UE</span> <span class="pre">config</span></code></a></p></li>
</ul>
</div></blockquote>
<p>Details of the modifications made are outlined in following sections.</p>
<section id="id7">
<h4>gNB<a class="headerlink" href="#id7" title="Link to this heading"></a></h4>
<p>Replacing the UHD driver with the ZMQ-based RF driver requires changing only <strong>ru_sdr</strong> sections of the gNB file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ru_sdr</span><span class="p">:</span>
  <span class="n">device_driver</span><span class="p">:</span> <span class="n">zmq</span>
  <span class="n">device_args</span><span class="p">:</span> <span class="n">tx_port</span><span class="o">=</span><span class="n">tcp</span><span class="p">:</span><span class="o">//</span><span class="mf">127.0.0.1</span><span class="p">:</span><span class="mi">2000</span><span class="p">,</span><span class="n">rx_port</span><span class="o">=</span><span class="n">tcp</span><span class="p">:</span><span class="o">//</span><span class="mf">127.0.0.1</span><span class="p">:</span><span class="mi">2001</span><span class="p">,</span><span class="n">base_srate</span><span class="o">=</span><span class="mf">23.04e6</span>
  <span class="n">srate</span><span class="p">:</span> <span class="mf">23.04</span>
  <span class="n">tx_gain</span><span class="p">:</span> <span class="mi">75</span>
  <span class="n">rx_gain</span><span class="p">:</span> <span class="mi">75</span>
</pre></div>
</div>
</section>
<section id="id8">
<h4>srsUE<a class="headerlink" href="#id8" title="Link to this heading"></a></h4>
<p>When using the ZMQ-based RF driver in the srsUE, it is important to create an appropriate network namespace in the host machine.
This is achieved with the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">ip</span> <span class="n">netns</span> <span class="n">add</span> <span class="n">ue1</span>
</pre></div>
</div>
<p>To verify the new “ue1” network namespace exists, run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">ip</span> <span class="n">netns</span> <span class="nb">list</span>
</pre></div>
</div>
<p>Then, the <strong>[rf]</strong> section in the srsUE config file has to be changed as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">rf</span><span class="p">]</span>
<span class="n">freq_offset</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">tx_gain</span> <span class="o">=</span> <span class="mi">50</span>
<span class="n">rx_gain</span> <span class="o">=</span> <span class="mi">40</span>
<span class="n">srate</span> <span class="o">=</span> <span class="mf">23.04e6</span>
<span class="n">nof_antennas</span> <span class="o">=</span> <span class="mi">1</span>

<span class="n">device_name</span> <span class="o">=</span> <span class="n">zmq</span>
<span class="n">device_args</span> <span class="o">=</span> <span class="n">tx_port</span><span class="o">=</span><span class="n">tcp</span><span class="p">:</span><span class="o">//</span><span class="mf">127.0.0.1</span><span class="p">:</span><span class="mi">2001</span><span class="p">,</span><span class="n">rx_port</span><span class="o">=</span><span class="n">tcp</span><span class="p">:</span><span class="o">//</span><span class="mf">127.0.0.1</span><span class="p">:</span><span class="mi">2000</span><span class="p">,</span><span class="n">base_srate</span><span class="o">=</span><span class="mf">23.04e6</span>
</pre></div>
</div>
<p>In addition, the srsUE must be configured to use the created network namespace. This is achieved by updating the <strong>[gw]</strong> section of the config file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">gw</span><span class="p">]</span>
<span class="n">netns</span> <span class="o">=</span> <span class="n">ue1</span>
<span class="n">ip_devname</span> <span class="o">=</span> <span class="n">tun_srsue</span>
<span class="n">ip_netmask</span> <span class="o">=</span> <span class="mf">255.255.255.0</span>
</pre></div>
</div>
</section>
</section>
<section id="id9">
<h3>Running the Network<a class="headerlink" href="#id9" title="Link to this heading"></a></h3>
<p>Once the config files are updated, the network can be set up on a single host machine, using the same commands as in the case of the over-the-air setup.</p>
</section>
<section id="zmq-testing">
<span id="id10"></span><h3>Testing the Network<a class="headerlink" href="#zmq-testing" title="Link to this heading"></a></h3>
<section id="zmq-routing">
<span id="id11"></span><h4>Routing Configuration<a class="headerlink" href="#zmq-routing" title="Link to this heading"></a></h4>
<p>Before being able to ping UE, you need to add a route to the UE on the <strong>host machine</strong> (i.e. the one running the Open5GS docker container):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>ip<span class="w"> </span>ro<span class="w"> </span>add<span class="w"> </span><span class="m">10</span>.45.0.0/16<span class="w"> </span>via<span class="w"> </span><span class="m">10</span>.53.1.2
</pre></div>
</div>
<p>Check the host routing table:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>route<span class="w"> </span>-n
</pre></div>
</div>
<p>It should contain the following entries (note that Iface names might be different):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Kernel<span class="w"> </span>IP<span class="w"> </span>routing<span class="w"> </span>table
Destination<span class="w">     </span>Gateway<span class="w">         </span>Genmask<span class="w">         </span>Flags<span class="w"> </span>Metric<span class="w"> </span>Ref<span class="w">    </span>Use<span class="w"> </span>Iface
<span class="m">0</span>.0.0.0<span class="w">         </span><span class="m">192</span>.168.0.1<span class="w">     </span><span class="m">0</span>.0.0.0<span class="w">         </span>UG<span class="w">    </span><span class="m">100</span><span class="w">    </span><span class="m">0</span><span class="w">        </span><span class="m">0</span><span class="w"> </span>eno1
<span class="m">10</span>.45.0.0<span class="w">       </span><span class="m">10</span>.53.1.2<span class="w">       </span><span class="m">255</span>.255.0.0<span class="w">     </span>UG<span class="w">    </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">        </span><span class="m">0</span><span class="w"> </span>br-dfa5521eb807
<span class="m">10</span>.53.1.0<span class="w">       </span><span class="m">0</span>.0.0.0<span class="w">         </span><span class="m">255</span>.255.255.0<span class="w">   </span>U<span class="w">     </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">        </span><span class="m">0</span><span class="w"> </span>br-dfa5521eb807
...
</pre></div>
</div>
<p>Next, add a default route for the UE as follows:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>ip<span class="w"> </span>netns<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>ue1<span class="w"> </span>ip<span class="w"> </span>route<span class="w"> </span>add<span class="w"> </span>default<span class="w"> </span>via<span class="w"> </span><span class="m">10</span>.45.1.1<span class="w"> </span>dev<span class="w"> </span>tun_srsue
</pre></div>
</div>
<p>Check the routing table of ue1:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>ip<span class="w"> </span>netns<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>ue1<span class="w"> </span>route<span class="w"> </span>-n
</pre></div>
</div>
<p>The output should be as follows:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Kernel<span class="w"> </span>IP<span class="w"> </span>routing<span class="w"> </span>table
Destination<span class="w">     </span>Gateway<span class="w">         </span>Genmask<span class="w">         </span>Flags<span class="w"> </span>Metric<span class="w"> </span>Ref<span class="w">    </span>Use<span class="w"> </span>Iface
<span class="m">0</span>.0.0.0<span class="w">         </span><span class="m">10</span>.45.1.1<span class="w">       </span><span class="m">0</span>.0.0.0<span class="w">         </span>UG<span class="w">    </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">        </span><span class="m">0</span><span class="w"> </span>tun_srsue
<span class="m">10</span>.45.1.0<span class="w">       </span><span class="m">0</span>.0.0.0<span class="w">         </span><span class="m">255</span>.255.255.0<span class="w">   </span>U<span class="w">     </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">        </span><span class="m">0</span><span class="w"> </span>tun_srsue
</pre></div>
</div>
</section>
<section id="id12">
<h4>Ping<a class="headerlink" href="#id12" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>Uplink</strong></p></li>
</ul>
<p>To test the connection in the uplink direction, use the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">ip</span> <span class="n">netns</span> <span class="n">exec</span> <span class="n">ue1</span> <span class="n">ping</span> <span class="mf">10.45.1.1</span>
</pre></div>
</div>
<ul class="simple">
<li><p><strong>Downlink</strong></p></li>
</ul>
<p>To run ping in the downlink direction, use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ping</span> <span class="mf">10.45.1.2</span>
</pre></div>
</div>
<p>The IP for the UE can be taken from the UE console output. This might change each time a UE reconnects to the network, so it is best practice to always double-check the latest IP assigned by reading it from the console before running the downlink traffic.</p>
<ul class="simple">
<li><p><strong>Ping Output</strong></p></li>
</ul>
<p>Example <strong>ping</strong> output:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># sudo ip netns exec ue1 ping 10.45.1.1 -c4</span>
<span class="n">PING</span> <span class="mf">10.45.1.1</span> <span class="p">(</span><span class="mf">10.45.1.1</span><span class="p">)</span> <span class="mi">56</span><span class="p">(</span><span class="mi">84</span><span class="p">)</span> <span class="nb">bytes</span> <span class="n">of</span> <span class="n">data</span><span class="o">.</span>
<span class="mi">64</span> <span class="nb">bytes</span> <span class="kn">from</span> <span class="mf">10.45.1.1</span><span class="p">:</span> <span class="n">icmp_seq</span><span class="o">=</span><span class="mi">1</span> <span class="n">ttl</span><span class="o">=</span><span class="mi">64</span> <span class="n">time</span><span class="o">=</span><span class="mf">26.6</span> <span class="n">ms</span>
<span class="mi">64</span> <span class="nb">bytes</span> <span class="kn">from</span> <span class="mf">10.45.1.1</span><span class="p">:</span> <span class="n">icmp_seq</span><span class="o">=</span><span class="mi">2</span> <span class="n">ttl</span><span class="o">=</span><span class="mi">64</span> <span class="n">time</span><span class="o">=</span><span class="mf">56.9</span> <span class="n">ms</span>
<span class="mi">64</span> <span class="nb">bytes</span> <span class="kn">from</span> <span class="mf">10.45.1.1</span><span class="p">:</span> <span class="n">icmp_seq</span><span class="o">=</span><span class="mi">3</span> <span class="n">ttl</span><span class="o">=</span><span class="mi">64</span> <span class="n">time</span><span class="o">=</span><span class="mf">45.2</span> <span class="n">ms</span>
<span class="mi">64</span> <span class="nb">bytes</span> <span class="kn">from</span> <span class="mf">10.45.1.1</span><span class="p">:</span> <span class="n">icmp_seq</span><span class="o">=</span><span class="mi">4</span> <span class="n">ttl</span><span class="o">=</span><span class="mi">64</span> <span class="n">time</span><span class="o">=</span><span class="mf">34.9</span> <span class="n">ms</span>

<span class="o">---</span> <span class="mf">10.45.1.1</span> <span class="n">ping</span> <span class="n">statistics</span> <span class="o">---</span>
<span class="mi">4</span> <span class="n">packets</span> <span class="n">transmitted</span><span class="p">,</span> <span class="mi">4</span> <span class="n">received</span><span class="p">,</span> <span class="mi">0</span><span class="o">%</span> <span class="n">packet</span> <span class="n">loss</span><span class="p">,</span> <span class="n">time</span> <span class="mi">3002</span><span class="n">ms</span>
<span class="n">rtt</span> <span class="nb">min</span><span class="o">/</span><span class="n">avg</span><span class="o">/</span><span class="nb">max</span><span class="o">/</span><span class="n">mdev</span> <span class="o">=</span> <span class="mf">26.568</span><span class="o">/</span><span class="mf">40.907</span><span class="o">/</span><span class="mf">56.878</span><span class="o">/</span><span class="mf">11.347</span> <span class="n">ms</span>
</pre></div>
</div>
</section>
<section id="id13">
<h4>iPerf3<a class="headerlink" href="#id13" title="Link to this heading"></a></h4>
<p>In this example, we generate traffic in the uplink direction. To this end, we run an iPerf3 client on the UE side and a server on the network side. UDP traffic will be generated at 10Mbps for 60 seconds. It is important to start the server first, and then the client.</p>
<ul class="simple">
<li><p><strong>Network-side</strong></p></li>
</ul>
<p>Start the iPerf3 server the machine running the core network (i.e., Open5GS docker container):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">iperf3</span> <span class="o">-</span><span class="n">s</span> <span class="o">-</span><span class="n">i</span> <span class="mi">1</span>
</pre></div>
</div>
<p>The server listens for traffic coming from the UE. After the client connects, the server prints flow measurements every second.</p>
<ul class="simple">
<li><p><strong>UE-side</strong></p></li>
</ul>
<p>With the network and the iPerf3 server up and running, the client can be run from the UE’s machine with the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># TCP</span>
<span class="n">sudo</span> <span class="n">ip</span> <span class="n">netns</span> <span class="n">exec</span> <span class="n">ue1</span> <span class="n">iperf3</span> <span class="o">-</span><span class="n">c</span> <span class="mf">10.53.1.1</span> <span class="o">-</span><span class="n">i</span> <span class="mi">1</span> <span class="o">-</span><span class="n">t</span> <span class="mi">60</span>
<span class="c1"># or UDP</span>
<span class="n">sudo</span> <span class="n">ip</span> <span class="n">netns</span> <span class="n">exec</span> <span class="n">ue1</span> <span class="n">iperf3</span> <span class="o">-</span><span class="n">c</span> <span class="mf">10.53.1.1</span> <span class="o">-</span><span class="n">i</span> <span class="mi">1</span> <span class="o">-</span><span class="n">t</span> <span class="mi">60</span> <span class="o">-</span><span class="n">u</span> <span class="o">-</span><span class="n">b</span> <span class="mi">10</span><span class="n">M</span>
</pre></div>
</div>
<p>Traffic will now be sent from the UE to the network. This will be shown in both the server and client consoles. Additionaly, we will observe console traces of the UE and the gNB.</p>
<p><strong>Note:</strong> All routes have to be configured as presented in  <a class="hxr-hoverxref hxr-tooltip reference internal" href="#zmq-routing"><span class="std std-ref">Routing Configuration for ZMQ-based setup</span></a> section.</p>
<ul class="simple">
<li><p><strong>Iperf3 Output</strong></p></li>
</ul>
<p>Example <strong>server</strong> iPerf3 output:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># iperf3 -s -i 1</span>
<span class="o">-----------------------------------------------------------</span>
<span class="n">Server</span> <span class="n">listening</span> <span class="n">on</span> <span class="mi">5201</span>
<span class="o">-----------------------------------------------------------</span>
<span class="n">Accepted</span> <span class="n">connection</span> <span class="kn">from</span> <span class="mf">10.45.1.2</span><span class="p">,</span> <span class="n">port</span> <span class="mi">39176</span>
<span class="p">[</span>  <span class="mi">5</span><span class="p">]</span> <span class="n">local</span> <span class="mf">10.45.1.1</span> <span class="n">port</span> <span class="mi">5201</span> <span class="n">connected</span> <span class="n">to</span> <span class="mf">10.45.1.2</span> <span class="n">port</span> <span class="mi">39184</span>
<span class="p">[</span> <span class="n">ID</span><span class="p">]</span> <span class="n">Interval</span>           <span class="n">Transfer</span>     <span class="n">Bitrate</span>
<span class="p">[</span>  <span class="mi">5</span><span class="p">]</span>   <span class="mf">0.00</span><span class="o">-</span><span class="mf">1.00</span>   <span class="n">sec</span>  <span class="mf">1.18</span> <span class="n">MBytes</span>  <span class="mf">9.91</span> <span class="n">Mbits</span><span class="o">/</span><span class="n">sec</span>
<span class="p">[</span>  <span class="mi">5</span><span class="p">]</span>   <span class="mf">1.00</span><span class="o">-</span><span class="mf">2.00</span>   <span class="n">sec</span>  <span class="mf">1.25</span> <span class="n">MBytes</span>  <span class="mf">10.5</span> <span class="n">Mbits</span><span class="o">/</span><span class="n">sec</span>
<span class="p">[</span>  <span class="mi">5</span><span class="p">]</span>   <span class="mf">2.00</span><span class="o">-</span><span class="mf">3.00</span>   <span class="n">sec</span>  <span class="mf">1.12</span> <span class="n">MBytes</span>  <span class="mf">9.44</span> <span class="n">Mbits</span><span class="o">/</span><span class="n">sec</span>
<span class="p">[</span>  <span class="mi">5</span><span class="p">]</span>   <span class="mf">3.00</span><span class="o">-</span><span class="mf">4.00</span>   <span class="n">sec</span>  <span class="mf">1.17</span> <span class="n">MBytes</span>  <span class="mf">9.85</span> <span class="n">Mbits</span><span class="o">/</span><span class="n">sec</span>
<span class="p">[</span>  <span class="mi">5</span><span class="p">]</span>   <span class="mf">4.00</span><span class="o">-</span><span class="mf">5.00</span>   <span class="n">sec</span>  <span class="mf">1.20</span> <span class="n">MBytes</span>  <span class="mf">10.1</span> <span class="n">Mbits</span><span class="o">/</span><span class="n">sec</span>
<span class="p">[</span>  <span class="mi">5</span><span class="p">]</span>   <span class="mf">5.00</span><span class="o">-</span><span class="mf">6.00</span>   <span class="n">sec</span>  <span class="mf">1.25</span> <span class="n">MBytes</span>  <span class="mf">10.5</span> <span class="n">Mbits</span><span class="o">/</span><span class="n">sec</span>
</pre></div>
</div>
<p>Example <strong>client</strong> iPerf3 output:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#sudo ip netns exec ue1 iperf3 -c 10.53.1.1 -i 1 -t 60 -u -b 10M</span>
<span class="n">Connecting</span> <span class="n">to</span> <span class="n">host</span> <span class="mf">10.45.1.1</span><span class="p">,</span> <span class="n">port</span> <span class="mi">5201</span>
<span class="p">[</span>  <span class="mi">5</span><span class="p">]</span> <span class="n">local</span> <span class="mf">10.45.1.2</span> <span class="n">port</span> <span class="mi">39184</span> <span class="n">connected</span> <span class="n">to</span> <span class="mf">10.45.1.1</span> <span class="n">port</span> <span class="mi">5201</span>
<span class="p">[</span> <span class="n">ID</span><span class="p">]</span> <span class="n">Interval</span>           <span class="n">Transfer</span>     <span class="n">Bitrate</span>         <span class="n">Retr</span>  <span class="n">Cwnd</span>
<span class="p">[</span>  <span class="mi">5</span><span class="p">]</span>   <span class="mf">0.00</span><span class="o">-</span><span class="mf">1.00</span>   <span class="n">sec</span>  <span class="mf">1.31</span> <span class="n">MBytes</span>  <span class="mf">11.0</span> <span class="n">Mbits</span><span class="o">/</span><span class="n">sec</span>    <span class="mi">0</span>    <span class="mi">119</span> <span class="n">KBytes</span>
<span class="p">[</span>  <span class="mi">5</span><span class="p">]</span>   <span class="mf">1.00</span><span class="o">-</span><span class="mf">2.00</span>   <span class="n">sec</span>  <span class="mf">1.12</span> <span class="n">MBytes</span>  <span class="mf">9.44</span> <span class="n">Mbits</span><span class="o">/</span><span class="n">sec</span>    <span class="mi">0</span>    <span class="mi">132</span> <span class="n">KBytes</span>
<span class="p">[</span>  <span class="mi">5</span><span class="p">]</span>   <span class="mf">2.00</span><span class="o">-</span><span class="mf">3.00</span>   <span class="n">sec</span>  <span class="mf">1.25</span> <span class="n">MBytes</span>  <span class="mf">10.5</span> <span class="n">Mbits</span><span class="o">/</span><span class="n">sec</span>    <span class="mi">0</span>    <span class="mi">132</span> <span class="n">KBytes</span>
<span class="p">[</span>  <span class="mi">5</span><span class="p">]</span>   <span class="mf">3.00</span><span class="o">-</span><span class="mf">4.00</span>   <span class="n">sec</span>  <span class="mf">1.12</span> <span class="n">MBytes</span>  <span class="mf">9.44</span> <span class="n">Mbits</span><span class="o">/</span><span class="n">sec</span>    <span class="mi">0</span>    <span class="mi">132</span> <span class="n">KBytes</span>
<span class="p">[</span>  <span class="mi">5</span><span class="p">]</span>   <span class="mf">4.00</span><span class="o">-</span><span class="mf">5.00</span>   <span class="n">sec</span>  <span class="mf">1.25</span> <span class="n">MBytes</span>  <span class="mf">10.5</span> <span class="n">Mbits</span><span class="o">/</span><span class="n">sec</span>    <span class="mi">0</span>    <span class="mi">132</span> <span class="n">KBytes</span>
<span class="p">[</span>  <span class="mi">5</span><span class="p">]</span>   <span class="mf">5.00</span><span class="o">-</span><span class="mf">6.00</span>   <span class="n">sec</span>  <span class="mf">1.12</span> <span class="n">MBytes</span>  <span class="mf">9.44</span> <span class="n">Mbits</span><span class="o">/</span><span class="n">sec</span>    <span class="mi">0</span>    <span class="mi">132</span> <span class="n">KBytes</span>
</pre></div>
</div>
<ul class="simple">
<li><p><strong>Console Traces</strong></p></li>
</ul>
<p>The following example trace was taken from the <strong>srsUE console</strong> while running the above iPerf3 test:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">---------</span><span class="n">Signal</span><span class="o">-----------|-----------------</span><span class="n">DL</span><span class="o">-----------------|-----------</span><span class="n">UL</span><span class="o">-----------</span>
<span class="n">rat</span>  <span class="n">pci</span>  <span class="n">rsrp</span>   <span class="n">pl</span>   <span class="n">cfo</span> <span class="o">|</span> <span class="n">mcs</span>  <span class="n">snr</span>  <span class="nb">iter</span>  <span class="n">brate</span>  <span class="n">bler</span>  <span class="n">ta_us</span> <span class="o">|</span> <span class="n">mcs</span>   <span class="n">buff</span>  <span class="n">brate</span>  <span class="n">bler</span>
 <span class="n">nr</span>    <span class="mi">1</span>     <span class="mi">9</span>    <span class="mi">0</span> <span class="o">-</span><span class="mf">1.8</span><span class="n">u</span> <span class="o">|</span>  <span class="mi">27</span>   <span class="mi">69</span>   <span class="mf">1.3</span>   <span class="mi">282</span><span class="n">k</span>    <span class="mi">0</span><span class="o">%</span>    <span class="mf">0.0</span> <span class="o">|</span>  <span class="mi">27</span>   <span class="mi">136</span><span class="n">k</span>    <span class="mi">13</span><span class="n">M</span>    <span class="mi">0</span><span class="o">%</span>
 <span class="n">nr</span>    <span class="mi">1</span>     <span class="mi">8</span>    <span class="mi">0</span>  <span class="mi">505</span><span class="n">n</span> <span class="o">|</span>  <span class="mi">27</span>   <span class="mi">73</span>   <span class="mf">1.3</span>   <span class="mi">299</span><span class="n">k</span>    <span class="mi">0</span><span class="o">%</span>    <span class="mf">0.0</span> <span class="o">|</span>  <span class="mi">27</span>    <span class="mf">0.0</span>    <span class="mi">14</span><span class="n">M</span>    <span class="mi">0</span><span class="o">%</span>
 <span class="n">nr</span>    <span class="mi">1</span>     <span class="mi">9</span>    <span class="mi">0</span>  <span class="mi">499</span><span class="n">n</span> <span class="o">|</span>  <span class="mi">27</span>  <span class="n">n</span><span class="o">/</span><span class="n">a</span>   <span class="mf">1.2</span>   <span class="mi">276</span><span class="n">k</span>    <span class="mi">0</span><span class="o">%</span>    <span class="mf">0.0</span> <span class="o">|</span>  <span class="mi">27</span>   <span class="mi">110</span><span class="n">k</span>    <span class="mi">13</span><span class="n">M</span>    <span class="mi">0</span><span class="o">%</span>
 <span class="n">nr</span>    <span class="mi">1</span>     <span class="mi">9</span>    <span class="mi">0</span>  <span class="mf">1.8</span><span class="n">u</span> <span class="o">|</span>  <span class="mi">27</span>   <span class="mi">66</span>   <span class="mf">1.3</span>   <span class="mi">295</span><span class="n">k</span>    <span class="mi">0</span><span class="o">%</span>    <span class="mf">0.0</span> <span class="o">|</span>  <span class="mi">27</span>    <span class="mf">3.0</span>    <span class="mi">14</span><span class="n">M</span>    <span class="mi">0</span><span class="o">%</span>
 <span class="n">nr</span>    <span class="mi">1</span>     <span class="mi">9</span>    <span class="mi">0</span>  <span class="mi">759</span><span class="n">n</span> <span class="o">|</span>  <span class="mi">27</span>   <span class="mi">69</span>   <span class="mf">1.3</span>   <span class="mi">277</span><span class="n">k</span>    <span class="mi">0</span><span class="o">%</span>    <span class="mf">0.0</span> <span class="o">|</span>  <span class="mi">27</span>    <span class="mi">68</span><span class="n">k</span>    <span class="mi">13</span><span class="n">M</span>    <span class="mi">0</span><span class="o">%</span>
 <span class="n">nr</span>    <span class="mi">1</span>     <span class="mi">9</span>    <span class="mi">0</span>  <span class="mi">188</span><span class="n">n</span> <span class="o">|</span>  <span class="mi">27</span>   <span class="mi">71</span>   <span class="mf">1.3</span>   <span class="mi">290</span><span class="n">k</span>    <span class="mi">0</span><span class="o">%</span>    <span class="mf">0.0</span> <span class="o">|</span>  <span class="mi">27</span>    <span class="mf">0.0</span>    <span class="mi">13</span><span class="n">M</span>    <span class="mi">0</span><span class="o">%</span>
</pre></div>
</div>
<p>To read more about the UE console trace metrics, see the <a class="reference external" href="https://docs.srsran.com/projects/4g/en/latest/usermanuals/source/srsue/source/6_ue_commandref.html#ue-commandref">UE User Manual</a>.</p>
<p>The following example trace was taken from the <strong>gNB console</strong> at the same time period as the srsUE trace shown above:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>          <span class="o">-------------</span><span class="n">DL</span><span class="o">----------------|------------------</span><span class="n">UL</span><span class="o">--------------------</span>
<span class="n">pci</span> <span class="n">rnti</span>  <span class="n">cqi</span>  <span class="n">mcs</span>  <span class="n">brate</span>   <span class="n">ok</span>  <span class="n">nok</span>  <span class="p">(</span><span class="o">%</span><span class="p">)</span> <span class="o">|</span> <span class="n">pusch</span>  <span class="n">mcs</span>  <span class="n">brate</span>   <span class="n">ok</span>  <span class="n">nok</span>  <span class="p">(</span><span class="o">%</span><span class="p">)</span>    <span class="n">bsr</span>
  <span class="mi">1</span> <span class="mi">4601</span>   <span class="mi">15</span>   <span class="mi">27</span>   <span class="mi">281</span><span class="n">k</span>  <span class="mi">335</span>    <span class="mi">0</span>   <span class="mi">0</span><span class="o">%</span> <span class="o">|</span>  <span class="mf">65.5</span>   <span class="mi">28</span>    <span class="mi">13</span><span class="n">M</span>  <span class="mi">396</span>    <span class="mi">0</span>   <span class="mi">0</span><span class="o">%</span>  <span class="mf">39.8</span><span class="n">k</span>
  <span class="mi">1</span> <span class="mi">4601</span>   <span class="mi">15</span>   <span class="mi">27</span>   <span class="mi">288</span><span class="n">k</span>  <span class="mi">353</span>    <span class="mi">0</span>   <span class="mi">0</span><span class="o">%</span> <span class="o">|</span>  <span class="mf">65.5</span>   <span class="mi">28</span>    <span class="mi">14</span><span class="n">M</span>  <span class="mi">412</span>    <span class="mi">0</span>   <span class="mi">0</span><span class="o">%</span>  <span class="mf">39.8</span><span class="n">k</span>
  <span class="mi">1</span> <span class="mi">4601</span>   <span class="mi">15</span>   <span class="mi">27</span>   <span class="mi">293</span><span class="n">k</span>  <span class="mi">346</span>    <span class="mi">0</span>   <span class="mi">0</span><span class="o">%</span> <span class="o">|</span>  <span class="mf">65.5</span>   <span class="mi">28</span>    <span class="mi">13</span><span class="n">M</span>  <span class="mi">410</span>    <span class="mi">0</span>   <span class="mi">0</span><span class="o">%</span>  <span class="mf">39.8</span><span class="n">k</span>
  <span class="mi">1</span> <span class="mi">4601</span>   <span class="mi">15</span>   <span class="mi">27</span>   <span class="mi">273</span><span class="n">k</span>  <span class="mi">332</span>    <span class="mi">0</span>   <span class="mi">0</span><span class="o">%</span> <span class="o">|</span>  <span class="mf">65.5</span>   <span class="mi">28</span>    <span class="mi">13</span><span class="n">M</span>  <span class="mi">384</span>    <span class="mi">0</span>   <span class="mi">0</span><span class="o">%</span>    <span class="mf">0.0</span>
  <span class="mi">1</span> <span class="mi">4601</span>   <span class="mi">15</span>   <span class="mi">27</span>   <span class="mi">286</span><span class="n">k</span>  <span class="mi">345</span>    <span class="mi">0</span>   <span class="mi">0</span><span class="o">%</span> <span class="o">|</span>  <span class="mf">65.5</span>   <span class="mi">28</span>    <span class="mi">14</span><span class="n">M</span>  <span class="mi">414</span>    <span class="mi">0</span>   <span class="mi">0</span><span class="o">%</span>    <span class="mf">0.0</span>
  <span class="mi">1</span> <span class="mi">4601</span>   <span class="mi">15</span>   <span class="mi">27</span>   <span class="mi">288</span><span class="n">k</span>  <span class="mi">349</span>    <span class="mi">0</span>   <span class="mi">0</span><span class="o">%</span> <span class="o">|</span>  <span class="mf">65.5</span>   <span class="mi">28</span>    <span class="mi">14</span><span class="n">M</span>  <span class="mi">410</span>    <span class="mi">0</span>   <span class="mi">0</span><span class="o">%</span>    <span class="mf">0.0</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="multi-ue-emulation">
<h2>Multi-UE Emulation<a class="headerlink" href="#multi-ue-emulation" title="Link to this heading"></a></h2>
<p>To connect multiple UEs to a single gNB using ZMQ-based RF devices, we need a <strong>broker</strong> that:</p>
<blockquote>
<div><ul class="simple">
<li><p>receives DL signal from the gNB and sends its copy to each connected UE,</p></li>
<li><p>receives UL signal from each connected UE, aggregates them, and sends the aggregated signal to the gNB.</p></li>
</ul>
</div></blockquote>
<p>In this tutorial, we use <strong>GNU-Radio Companion</strong> to implement such a broker, as it allows easy integration with our ZMQ-based RF devices. Specifically, GNU-Radio Companion is a free and open-source software development toolkit that provides signal processing blocks, which can be simply connected to form a signal <strong>flow graph</strong>. By default, it also provides ZMQ-compatible blocks that allow connecting to external processes (acting as signal sources or sinks) over TCP sockets. We exploit the ZMQ blocks to connect with gNB and srsUE processes and transfer signal samples between them.</p>
<p>The following figure shows the signal flow graph of our broker:</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../../../_images/gr_flow_graph.png"><img alt="../../../../_images/gr_flow_graph.png" src="../../../../_images/gr_flow_graph.png" style="width: 1231.5px; height: 590.5px;" /></a>
</figure>
<p>The upper graph is responsible for handling Downlink signal samples, while the lower graph for Uplink signal samples.</p>
<p>Note that here we only provide a simple broker that allows changing path loss separately for each connected UE. But thanks to the rich signal processing block library available in the GNU-Radio Companion, the provided flow graph can be easily extended with any signal processing, manipulation, and/or visualization.</p>
<p>As already mentioned, the GNU-Radio Companion connects over ZMQ sockets with the gNB and srsUE processes (i.e., their ZMQ-based RF devices).
The following table lists port numbers are used in the example flow graph:</p>
<span id="grc-ports-table"></span><table class="docutils align-center" id="id28">
<caption><span class="caption-text">Ports Used in the GNU-Radio flow graph</span><a class="headerlink" href="#id28" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Port Direction</p></th>
<th class="head"><p>gNB</p></th>
<th class="head"><p>srsUE1</p></th>
<th class="head"><p>srsUE2</p></th>
<th class="head"><p>srsUE3</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>TX</p></td>
<td><p>2000</p></td>
<td><p>2101</p></td>
<td><p>2201</p></td>
<td><p>2301</p></td>
</tr>
<tr class="row-odd"><td><p>Rx</p></td>
<td><p>2001</p></td>
<td><p>2100</p></td>
<td><p>2200</p></td>
<td><p>2300</p></td>
</tr>
</tbody>
</table>
<section id="id15">
<h3>Configuration<a class="headerlink" href="#id15" title="Link to this heading"></a></h3>
<section id="gnu-radio-companion">
<h4>GNU-Radio Companion<a class="headerlink" href="#gnu-radio-companion" title="Link to this heading"></a></h4>
<p>Please install GNU-Radio Companion following the instructions available <a class="reference external" href="https://wiki.gnuradio.org/index.php/InstallingGR">here</a>. On Ubuntu it can be installed with the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">gnuradio</span>
</pre></div>
</div>
<p>GNU-Radio flow graph can be downloaded here:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference download internal" download="" href="../../../../_downloads/0e089ea8fa3a22bf1eec673ab3dffd94/multi_ue_scenario.grc"><code class="xref download docutils literal notranslate"><span class="pre">GNU-Radio</span> <span class="pre">flow</span> <span class="pre">graph</span></code></a></p></li>
</ul>
</div></blockquote>
<p>Note that the flow graph allows connecting <strong>three UEs</strong>, but it can be easily adapted to support any (but reasonable) UE number.</p>
</section>
<section id="id17">
<h4>Open5GS Core<a class="headerlink" href="#id17" title="Link to this heading"></a></h4>
<p>By default, the subscriber database of the dockerized Open5GS Core is populated with only one UE. A file with a list of all UEs used in this example can be downloaded here:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference download internal" download="" href="../../../../_downloads/5d59e27a3d39c6f9b72df6ca2b01d0e2/subscriber_db.csv"><code class="xref download docutils literal notranslate"><span class="pre">subscriber_db.csv</span></code></a></p></li>
</ul>
</div></blockquote>
<p>The file needs to be saved at: <code class="docutils literal notranslate"><span class="pre">srsRAN_Project/docker/open5gs/</span></code></p>
<p>Then, edit the <code class="docutils literal notranslate"><span class="pre">srsRAN_Project/docker/open5gs/open5gs.env</span></code> file as follow:</p>
<div class="highlight-diff notranslate"><div class="highlight"><pre><span></span><span class="w"> </span>MONGODB_IP=127.0.0.1
<span class="w"> </span>OPEN5GS_IP=10.53.1.2
<span class="w"> </span>UE_IP_BASE=10.45.0
<span class="w"> </span>DEBUG=false
<span class="gd">-SUBSCRIBER_DB=001010123456780,00112233445566778899aabbccddeeff,opc,63bfa50ee6523365ff14c1f45f88737d,8000,9,10.45.1.2</span>
<span class="gi">+SUBSCRIBER_DB=&quot;subscriber_db.csv&quot;</span>
</pre></div>
</div>
<p>Alternatively, you can download already edited <code class="docutils literal notranslate"><span class="pre">open5gs.env</span></code> file <a class="reference download internal" download="" href="../../../../_downloads/716f9de4175eda43c79f8a9570f44ba7/open5gs.env"><code class="xref download docutils literal notranslate"><span class="pre">here</span></code></a>.</p>
</section>
<section id="id18">
<h4>gNB<a class="headerlink" href="#id18" title="Link to this heading"></a></h4>
<p>The following gNB config files was modified to operate with a channel bandwidth of 10 MHz and use the ZMQ-based RF driver.</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference download internal" download="" href="../../../../_downloads/6e3286da23d0455de1448774d06e96fa/gnb_zmq.yaml"><code class="xref download docutils literal notranslate"><span class="pre">gNB</span> <span class="pre">config</span></code></a></p></li>
</ul>
</div></blockquote>
<p>In addition, the total number of available PRACH preambles was set to 63 to mitigate contention among UEs:</p>
<div class="highlight-diff notranslate"><div class="highlight"><pre><span></span><span class="w"> </span> prach:
<span class="w"> </span>   prach_config_index: 1           # Sets PRACH config to match what is expected by srsUE
<span class="gi">+   total_nof_ra_preambles: 63      # Sets number of available PRACH preambles</span>
</pre></div>
</div>
</section>
<section id="id19">
<h4>srsUE<a class="headerlink" href="#id19" title="Link to this heading"></a></h4>
<p>The following srsUE config files were modified to operate with a channel bandwidth of 10 MHz and use the ZMQ-based RF driver. In addition, the config files were modified to allow the execution of multiple srsUE processes on the same host PC. Specifically, each config file has different:</p>
<blockquote>
<div><ul class="simple">
<li><p>ports for the ZMQ connections, that match the those listed in <a class="hxr-hoverxref hxr-tooltip reference internal" href="#grc-ports-table"><span class="std std-ref">Ports Used in the GNU-Radio flow graph</span></a>.</p></li>
<li><p>pcap and log filenames,</p></li>
<li><p>USIM data (IMSI, etc),</p></li>
<li><p>network namespace name.</p></li>
</ul>
</div></blockquote>
<p>You can download the srsUE configs here:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference download internal" download="" href="../../../../_downloads/4d9871497ca8f77f9be77893017336ff/ue1_zmq.conf"><code class="xref download docutils literal notranslate"><span class="pre">UE1</span> <span class="pre">config</span></code></a></p></li>
<li><p><a class="reference download internal" download="" href="../../../../_downloads/fb4d5b8873c7c26359114cf532945cf2/ue2_zmq.conf"><code class="xref download docutils literal notranslate"><span class="pre">UE2</span> <span class="pre">config</span></code></a></p></li>
<li><p><a class="reference download internal" download="" href="../../../../_downloads/60b5161b30db7131eca4420d75e2b896/ue3_zmq.conf"><code class="xref download docutils literal notranslate"><span class="pre">UE3</span> <span class="pre">config</span></code></a></p></li>
</ul>
</div></blockquote>
</section>
</section>
<hr class="docutils" />
<section id="id20">
<h3>Running the Network<a class="headerlink" href="#id20" title="Link to this heading"></a></h3>
<p>The following order must be used when running the network with multiple UEs:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Open5GS</p></li>
<li><p>gNB</p></li>
<li><p><strong>All</strong> UEs</p></li>
<li><p>GNU-Radio flow graph.</p></li>
</ol>
</div></blockquote>
<section id="id21">
<h4>Open5GS Core<a class="headerlink" href="#id21" title="Link to this heading"></a></h4>
<p>Run Open5GS as follows:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>./srsRAN_Project/docker
docker<span class="w"> </span>compose<span class="w"> </span>up<span class="w"> </span>--build<span class="w"> </span>5gc
</pre></div>
</div>
</section>
<section id="id22">
<h4>gNB<a class="headerlink" href="#id22" title="Link to this heading"></a></h4>
<p>Run gNB directly from the build folder (the config file is also located there) with the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>./srsRAN_Project/build/apps/gnb
sudo<span class="w"> </span>./gnb<span class="w"> </span>-c<span class="w"> </span>gnb_zmq.yaml
</pre></div>
</div>
</section>
<section id="id23">
<h4>srsUE<a class="headerlink" href="#id23" title="Link to this heading"></a></h4>
<p>First, a correct network namespace must be created for each UE:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>ip<span class="w"> </span>netns<span class="w"> </span>add<span class="w"> </span>ue1
sudo<span class="w"> </span>ip<span class="w"> </span>netns<span class="w"> </span>add<span class="w"> </span>ue2
sudo<span class="w"> </span>ip<span class="w"> </span>netns<span class="w"> </span>add<span class="w"> </span>ue3
</pre></div>
</div>
<p>Next, start three srsUE instances, each in a separate terminal window. This is also done directly from within the build folder, with the config files in the same location:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>./srsRAN_4G/build/srsue/src
sudo<span class="w"> </span>./srsue<span class="w"> </span>./ue1_zmq.conf
sudo<span class="w"> </span>./srsue<span class="w"> </span>./ue2_zmq.conf
sudo<span class="w"> </span>./srsue<span class="w"> </span>./ue3_zmq.conf
</pre></div>
</div>
<p>Note, UEs will not connect to the gNB until the GNU-Radio flow graph has been started, as the UL and DL channels are not directly connected between the UE and gNB.</p>
</section>
<section id="id24">
<h4>GNU-Radio Companion<a class="headerlink" href="#id24" title="Link to this heading"></a></h4>
<p>Run the GRC Flowgraph associated with the broker.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>gnuradio-companion<span class="w"> </span>./multi_ue_scenario.grc
</pre></div>
</div>
<p>When gnuradio-companion is started, click on the play button (i.e., <code class="docutils literal notranslate"><span class="pre">Execute</span> <span class="pre">the</span> <span class="pre">flow</span> <span class="pre">graph</span></code>). Now, the signal samples are transferred between gNB and UEs.
After a few seconds, all UE should attach and get an IP address.
If a srsUE connects successfully to the network, the following (or similar) should be displayed on the console:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">...</span>
<span class="n">Random</span> <span class="n">Access</span> <span class="n">Transmission</span><span class="p">:</span> <span class="n">prach_occasion</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">preamble_index</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span> <span class="n">ra</span><span class="o">-</span><span class="n">rnti</span><span class="o">=</span><span class="mh">0x39</span><span class="p">,</span> <span class="n">tti</span><span class="o">=</span><span class="mi">174</span>
<span class="n">Random</span> <span class="n">Access</span> <span class="n">Complete</span><span class="o">.</span>     <span class="n">c</span><span class="o">-</span><span class="n">rnti</span><span class="o">=</span><span class="mh">0x4602</span><span class="p">,</span> <span class="n">ta</span><span class="o">=</span><span class="mi">0</span>
<span class="n">RRC</span> <span class="n">Connected</span>
<span class="n">PDU</span> <span class="n">Session</span> <span class="n">Establishment</span> <span class="n">successful</span><span class="o">.</span> <span class="n">IP</span><span class="p">:</span> <span class="mf">10.45.1.2</span>
<span class="n">RRC</span> <span class="n">NR</span> <span class="n">reconfiguration</span> <span class="n">successful</span><span class="o">.</span>
</pre></div>
</div>
<p>It is clear that the connection has been made successfully once the UE has been assigned an IP, this is seen in <code class="docutils literal notranslate"><span class="pre">PDU</span> <span class="pre">Session</span> <span class="pre">Establishment</span> <span class="pre">successful.</span> <span class="pre">IP:</span> <span class="pre">10.45.1.2</span></code>.
The NR connection is then confirmed with the <code class="docutils literal notranslate"><span class="pre">RRC</span> <span class="pre">NR</span> <span class="pre">reconfiguration</span> <span class="pre">successful.</span></code> message.</p>
<p>Now, you can start traffic (e.g., ping/iperf) to/from each UE using the commands described in the previous section.</p>
<p>Notes:</p>
<blockquote>
<div><ul class="simple">
<li><p>The gNB and <strong>all</strong> UEs have to be started before executing the GNU-Radio flow graph.</p></li>
<li><p>You will also need to restart the GNU-Radio flow graph each time the network is restarted (i.e., click <code class="docutils literal notranslate"><span class="pre">Kill</span> <span class="pre">the</span> <span class="pre">flow</span> <span class="pre">graph</span></code>, and then <code class="docutils literal notranslate"><span class="pre">Execute</span> <span class="pre">the</span> <span class="pre">flow</span> <span class="pre">graph</span></code>)</p></li>
</ul>
</div></blockquote>
</section>
<section id="path-loss-control">
<h4>Path-loss Control<a class="headerlink" href="#path-loss-control" title="Link to this heading"></a></h4>
<p>The path loss can be controlled for each UE separately via sliders in the flow graph control panel (note, that the control panel pops up after starting the flow graph).
The following figure shows the path loss control panel:</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../../../_images/gr_control_slider.png"><img alt="../../../../_images/gr_control_slider.png" src="../../../../_images/gr_control_slider.png" style="width: 448.0px; height: 278.0px;" /></a>
</figure>
<p>You can check the impact of the path loss on the RSRP in each UE. To this end, please activate trace logging in the <strong>srsUE console</strong> by typing <code class="docutils literal notranslate"><span class="pre">t</span></code>.
The following example trace shows the changing RSRP that was measured by the UE when setting diverse values of the path loss in the flow graph control panel:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">t</span>
<span class="n">Enter</span> <span class="n">t</span> <span class="n">to</span> <span class="n">stop</span> <span class="n">trace</span><span class="o">.</span>
<span class="o">---------</span><span class="n">Signal</span><span class="o">-----------|-----------------</span><span class="n">DL</span><span class="o">-----------------|-----------</span><span class="n">UL</span><span class="o">-----------</span>
<span class="n">rat</span>  <span class="n">pci</span>  <span class="n">rsrp</span>   <span class="n">pl</span>   <span class="n">cfo</span> <span class="o">|</span> <span class="n">mcs</span>  <span class="n">snr</span>  <span class="nb">iter</span>  <span class="n">brate</span>  <span class="n">bler</span>  <span class="n">ta_us</span> <span class="o">|</span> <span class="n">mcs</span>   <span class="n">buff</span>  <span class="n">brate</span>  <span class="n">bler</span>
 <span class="n">nr</span>    <span class="mi">1</span>    <span class="mi">43</span>    <span class="mi">0</span> <span class="o">-</span><span class="mf">4.5</span><span class="n">u</span> <span class="o">|</span>   <span class="mi">0</span>   <span class="mi">65</span>   <span class="mf">0.0</span>    <span class="mf">0.0</span>    <span class="mi">0</span><span class="o">%</span>    <span class="mf">0.0</span> <span class="o">|</span>   <span class="mi">0</span>    <span class="mf">0.0</span>    <span class="mf">0.0</span>    <span class="mi">0</span><span class="o">%</span>
 <span class="n">nr</span>    <span class="mi">1</span>    <span class="mi">42</span>    <span class="mi">0</span> <span class="o">-</span><span class="mf">1.4</span><span class="n">u</span> <span class="o">|</span>   <span class="mi">0</span>   <span class="mi">65</span>   <span class="mf">0.0</span>    <span class="mf">0.0</span>    <span class="mi">0</span><span class="o">%</span>    <span class="mf">0.0</span> <span class="o">|</span>   <span class="mi">0</span>    <span class="mf">0.0</span>    <span class="mf">0.0</span>    <span class="mi">0</span><span class="o">%</span>
 <span class="n">nr</span>    <span class="mi">1</span>    <span class="mi">36</span>    <span class="mi">0</span>  <span class="o">-</span><span class="mf">2.3</span> <span class="o">|</span>   <span class="mi">0</span>  <span class="n">n</span><span class="o">/</span><span class="n">a</span>   <span class="mf">0.0</span>    <span class="mf">0.0</span>    <span class="mi">0</span><span class="o">%</span>    <span class="mf">0.0</span> <span class="o">|</span>   <span class="mi">0</span>    <span class="mf">0.0</span>    <span class="mf">0.0</span>    <span class="mi">0</span><span class="o">%</span>
 <span class="n">nr</span>    <span class="mi">1</span>     <span class="mi">8</span>    <span class="mi">0</span>  <span class="o">-</span><span class="mi">12</span><span class="n">u</span> <span class="o">|</span>   <span class="mi">0</span>  <span class="n">n</span><span class="o">/</span><span class="n">a</span>   <span class="mf">0.0</span>    <span class="mf">0.0</span>    <span class="mi">0</span><span class="o">%</span>    <span class="mf">0.0</span> <span class="o">|</span>   <span class="mi">0</span>    <span class="mf">0.0</span>    <span class="mf">0.0</span>    <span class="mi">0</span><span class="o">%</span>
 <span class="n">nr</span>    <span class="mi">1</span>     <span class="mi">8</span>    <span class="mi">0</span>  <span class="o">-</span><span class="mi">16</span><span class="n">u</span> <span class="o">|</span>   <span class="mi">0</span>   <span class="mi">84</span>   <span class="mf">0.0</span>    <span class="mf">0.0</span>    <span class="mi">0</span><span class="o">%</span>    <span class="mf">0.0</span> <span class="o">|</span>   <span class="mi">0</span>    <span class="mf">0.0</span>    <span class="mf">0.0</span>    <span class="mi">0</span><span class="o">%</span>
 <span class="n">nr</span>    <span class="mi">1</span>    <span class="mi">25</span>    <span class="mi">0</span>  <span class="o">-</span><span class="mi">20</span><span class="n">u</span> <span class="o">|</span>   <span class="mi">0</span>   <span class="mi">82</span>   <span class="mf">0.0</span>    <span class="mf">0.0</span>    <span class="mi">0</span><span class="o">%</span>    <span class="mf">0.0</span> <span class="o">|</span>   <span class="mi">0</span>    <span class="mf">0.0</span>    <span class="mf">0.0</span>    <span class="mi">0</span><span class="o">%</span>
 <span class="n">nr</span>    <span class="mi">1</span>    <span class="mi">42</span>    <span class="mi">0</span>  <span class="o">-</span><span class="mi">11</span><span class="n">u</span> <span class="o">|</span>   <span class="mi">0</span>   <span class="mi">65</span>   <span class="mf">0.0</span>    <span class="mf">0.0</span>    <span class="mi">0</span><span class="o">%</span>    <span class="mf">0.0</span> <span class="o">|</span>   <span class="mi">0</span>    <span class="mf">0.0</span>    <span class="mf">0.0</span>    <span class="mi">0</span><span class="o">%</span>
</pre></div>
</div>
<p>In addition, the control panel allows setting the <code class="docutils literal notranslate"><span class="pre">Time</span> <span class="pre">Slow</span> <span class="pre">Down</span> <span class="pre">Ratio</span></code> parameter, which controls how fast the samples are transferred between gNB and UEs (i.e., the higher the parameter value, the slower the samples are transferred).
Specifically, GNU-Radio allows to throttle how fast samples are passed between entities (using the <strong>Throttle</strong> object). By default, the Sample Rate of the Throttle object is set to <code class="docutils literal notranslate"><span class="pre">samp_rate/slow_down_ratio</span></code>, where <code class="docutils literal notranslate"><span class="pre">samp_rate</span> <span class="pre">=</span> <span class="pre">11.52</span> <span class="pre">MHz</span></code> and <code class="docutils literal notranslate"><span class="pre">slow_down_ratio=4</span></code>. Therefore, if a connected ZMQ-based RF device generates (and consumes) samples with a sampling rate of 11.52 MHz, it takes 4 seconds to pass them through the GNU-Radio flow graph.</p>
<p>Note that when samples are delivered at slower speeds, gNB and UE have more time to process them (hence lower average CPU load). Therefore, controlling the <code class="docutils literal notranslate"><span class="pre">Time</span> <span class="pre">Slow</span> <span class="pre">Down</span> <span class="pre">Ratio</span></code> parameter might be helpful when running the emulation on a slower host machine and/or with a high number of UEs.
You can check the impact of the <code class="docutils literal notranslate"><span class="pre">Time</span> <span class="pre">Slow</span> <span class="pre">Down</span> <span class="pre">Ratio</span></code> parameter on CPU load and network traffic volume on the loopback interface using <code class="docutils literal notranslate"><span class="pre">htop</span></code> and <code class="docutils literal notranslate"><span class="pre">nload</span> <span class="pre">lo</span></code>, respectively. Also, a ping round-trip time (RTT) between the core network and UEs is impacted when changing this parameter.</p>
</section>
</section>
<section id="id25">
<h3>Testing the Network<a class="headerlink" href="#id25" title="Link to this heading"></a></h3>
<p>Once the setup is ready, you can start data traffic by following <a class="hxr-hoverxref hxr-tooltip reference internal" href="#zmq-testing"><span class="std std-ref">Testing the Network</span></a> section for the ZMQ-based setup. Note that here we have three UEs (hence, three network namespaces, namely ue1,ue2,ue3), and the default route has to be configured for each of them.</p>
</section>
</section>
<hr class="docutils" />
<section id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Link to this heading"></a></h2>
<section id="performance-issues">
<h3>Performance Issues<a class="headerlink" href="#performance-issues" title="Link to this heading"></a></h3>
<p>If you experience some performance-related issues (e.g., RF underflows/lates), please run the <a class="reference external" href="https://github.com/srsran/srsRAN_Project/blob/main/scripts/srsran_performance">srsran_performance</a> script on all PCs used in your setup. The script configures the host machine (CPU, etc.) to run with the best possible performance.</p>
</section>
<section id="reference-clock">
<h3>Reference clock<a class="headerlink" href="#reference-clock" title="Link to this heading"></a></h3>
<p>If you encounter issues with the srsUE not finding the cell and/or not being able to stay connected it might be due to inaccurate clocks at the RF frontends. Try to use an external 10 MHz reference or use a GPSDO oscillator.</p>
</section>
<section id="g-qos-identifier">
<h3>5G QoS Identifier<a class="headerlink" href="#g-qos-identifier" title="Link to this heading"></a></h3>
<p>By default, Open5GS uses 5QI = 9. If the <strong>qos</strong> section is not provided in the gNB config file, the default one with 5QI = 9 will be generated and the UE should connect to the network. If one needs to change the 5QI, please harmonize these settings between gNB and Open5GS config files, as otherwise, a UE will not be able to connect.</p>
</section>
<section id="ue-does-not-get-ip-address">
<h3>UE does not get IP address<a class="headerlink" href="#ue-does-not-get-ip-address" title="Link to this heading"></a></h3>
<p>If the UE successfully performs RACH procedure, gets into <cite>RRC Connected</cite> state, but finally disconnects with <cite>RRC Release</cite>, this might indicate that the UE database in the core network is not filled properly.
Specifically, in such case, the srsUE console output will look similar to this:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Attaching<span class="w"> </span>UE...
Random<span class="w"> </span>Access<span class="w"> </span>Transmission:<span class="w"> </span><span class="nv">prach_occasion</span><span class="o">=</span><span class="m">0</span>,<span class="w"> </span><span class="nv">preamble_index</span><span class="o">=</span><span class="m">8</span>,<span class="w"> </span>ra-rnti<span class="o">=</span>0x39,<span class="w"> </span><span class="nv">tti</span><span class="o">=</span><span class="m">174</span>
Random<span class="w"> </span>Access<span class="w"> </span>Complete.<span class="w">     </span>c-rnti<span class="o">=</span>0x4601,<span class="w"> </span><span class="nv">ta</span><span class="o">=</span><span class="m">0</span>
RRC<span class="w"> </span>Connected
Received<span class="w"> </span>RRC<span class="w"> </span>Release
</pre></div>
</div>
<p>You can also check core network logs, for more information on the cause of this event. For example, Open5gs might show the following information in its log output:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>open5gs_5gc<span class="w">  </span><span class="p">|</span><span class="w"> </span><span class="m">02</span>/02<span class="w"> </span><span class="m">09</span>:06:13.742:<span class="w"> </span><span class="o">[</span>amf<span class="o">]</span><span class="w"> </span>INFO:<span class="w"> </span>InitialUEMessage<span class="w"> </span><span class="o">(</span>../src/amf/ngap-handler.c:372<span class="o">)</span>
open5gs_5gc<span class="w">  </span><span class="p">|</span><span class="w"> </span><span class="m">02</span>/02<span class="w"> </span><span class="m">09</span>:06:13.742:<span class="w"> </span><span class="o">[</span>amf<span class="o">]</span><span class="w"> </span>INFO:<span class="w"> </span><span class="o">[</span>Added<span class="o">]</span><span class="w"> </span>Number<span class="w"> </span>of<span class="w"> </span>gNB-UEs<span class="w"> </span>is<span class="w"> </span>now<span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="o">(</span>../src/amf/context.c:2327<span class="o">)</span>
open5gs_5gc<span class="w">  </span><span class="p">|</span><span class="w"> </span><span class="m">02</span>/02<span class="w"> </span><span class="m">09</span>:06:13.742:<span class="w"> </span><span class="o">[</span>amf<span class="o">]</span><span class="w"> </span>INFO:<span class="w">     </span>RAN_UE_NGAP_ID<span class="o">[</span><span class="m">2</span><span class="o">]</span><span class="w"> </span>AMF_UE_NGAP_ID<span class="o">[</span><span class="m">3</span><span class="o">]</span><span class="w"> </span>TAC<span class="o">[</span><span class="m">7</span><span class="o">]</span><span class="w"> </span>CellID<span class="o">[</span>0x19b0<span class="o">]</span><span class="w"> </span><span class="o">(</span>../src/amf/ngap-handler.c:533<span class="o">)</span>
open5gs_5gc<span class="w">  </span><span class="p">|</span><span class="w"> </span><span class="m">02</span>/02<span class="w"> </span><span class="m">09</span>:06:13.742:<span class="w"> </span><span class="o">[</span>amf<span class="o">]</span><span class="w"> </span>INFO:<span class="w"> </span><span class="o">[</span>suci-0-001-01-0000-0-0-0123456791<span class="o">]</span><span class="w"> </span>Unknown<span class="w"> </span>UE<span class="w"> </span>by<span class="w"> </span>SUCI<span class="w"> </span><span class="o">(</span>../src/amf/context.c:1634<span class="o">)</span>
open5gs_5gc<span class="w">  </span><span class="p">|</span><span class="w"> </span><span class="m">02</span>/02<span class="w"> </span><span class="m">09</span>:06:13.742:<span class="w"> </span><span class="o">[</span>amf<span class="o">]</span><span class="w"> </span>INFO:<span class="w"> </span><span class="o">[</span>Added<span class="o">]</span><span class="w"> </span>Number<span class="w"> </span>of<span class="w"> </span>AMF-UEs<span class="w"> </span>is<span class="w"> </span>now<span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="o">(</span>../src/amf/context.c:1419<span class="o">)</span>
open5gs_5gc<span class="w">  </span><span class="p">|</span><span class="w"> </span><span class="m">02</span>/02<span class="w"> </span><span class="m">09</span>:06:13.742:<span class="w"> </span><span class="o">[</span>gmm<span class="o">]</span><span class="w"> </span>INFO:<span class="w"> </span>Registration<span class="w"> </span>request<span class="w"> </span><span class="o">(</span>../src/amf/gmm-sm.c:985<span class="o">)</span>
open5gs_5gc<span class="w">  </span><span class="p">|</span><span class="w"> </span><span class="m">02</span>/02<span class="w"> </span><span class="m">09</span>:06:13.742:<span class="w"> </span><span class="o">[</span>gmm<span class="o">]</span><span class="w"> </span>INFO:<span class="w"> </span><span class="o">[</span>suci-0-001-01-0000-0-0-0123456791<span class="o">]</span><span class="w">    </span>SUCI<span class="w"> </span><span class="o">(</span>../src/amf/gmm-handler.c:149<span class="o">)</span>
open5gs_5gc<span class="w">  </span><span class="p">|</span><span class="w"> </span><span class="m">02</span>/02<span class="w"> </span><span class="m">09</span>:06:13.743:<span class="w"> </span><span class="o">[</span>dbi<span class="o">]</span><span class="w"> </span>INFO:<span class="w"> </span><span class="o">[</span>imsi-001010123456791<span class="o">]</span><span class="w"> </span>Cannot<span class="w"> </span>find<span class="w"> </span>IMSI<span class="w"> </span><span class="k">in</span><span class="w"> </span>DB<span class="w"> </span><span class="o">(</span>../lib/dbi/subscription.c:56<span class="o">)</span>
</pre></div>
</div>
<p>From the above, it is clear that UE data is not present in the subscriber database.</p>
<p>Please check and populate the UE database if needed.</p>
<p>In case you are using Open5gs, you can open <a class="reference external" href="http://localhost:3000/">http://localhost:3000/</a>  in your browser and log in to its WebUI (user: admin, passwd: 1423). You should see an entry for each IMSI present in a UE database. If the required IMSI is not present, you can add it manually by clicking on the <strong>+</strong> button in the lower right corner. <strong>Note:</strong> the WebUI is available when running Open5gs using the docker image we provide. If installed manually, one needs to install the WebUI separately.</p>
<p>In the case of the ZMQ-based setup, please check if you have properly added network namespace for each emulated UE, i.e.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">ip</span> <span class="n">netns</span> <span class="n">add</span> <span class="n">ue1</span>
</pre></div>
</div>
<p>To verify the new “ue1” network namespace exists, run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">ip</span> <span class="n">netns</span> <span class="nb">list</span>
</pre></div>
</div>
</section>
<section id="ue-ip-forwarding">
<h3>UE IP Forwarding<a class="headerlink" href="#ue-ip-forwarding" title="Link to this heading"></a></h3>
<p>To ensure that the UE traffic is sent correctly to the internet the correct IP forwarding must be enabled. IP Forwarding should be enabled on the <strong>host machine</strong>, i.e. the one running the Open5GS docker container.
This can be done with the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>sysctl<span class="w"> </span>-w<span class="w"> </span>net.ipv4.ip_forward<span class="o">=</span><span class="m">1</span>
sudo<span class="w"> </span>iptables<span class="w"> </span>-t<span class="w"> </span>nat<span class="w"> </span>-A<span class="w"> </span>POSTROUTING<span class="w"> </span>-o<span class="w"> </span>&lt;IFNAME&gt;<span class="w"> </span>-j<span class="w"> </span>MASQUERADE
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">&lt;IFNAME&gt;</span></code> is the name of the interface connected to the internet.</p>
<p>To check that this has been configured correctly run the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>ip<span class="w"> </span>netns<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>ue1<span class="w"> </span>ping<span class="w"> </span>-i<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">8</span>.8.8.8
</pre></div>
</div>
<p>If the UE can ping the Google DNS, then the internet can be successfully accessed.</p>
</section>
<section id="nd-open5gs-instance-installed-manually">
<h3>2nd Open5GS instance (installed manually)<a class="headerlink" href="#nd-open5gs-instance-installed-manually" title="Link to this heading"></a></h3>
<p>The routing entries on the host PC for IPs: <cite>10.45.0.0</cite> and <cite>10.53.1.0</cite> should use the same interface, e.g.:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>route<span class="w"> </span>-n

Kernel<span class="w"> </span>IP<span class="w"> </span>routing<span class="w"> </span>table
Destination<span class="w">     </span>Gateway<span class="w">         </span>Genmask<span class="w">         </span>Flags<span class="w"> </span>Metric<span class="w"> </span>Ref<span class="w">    </span>Use<span class="w"> </span>Iface
<span class="m">0</span>.0.0.0<span class="w">         </span><span class="m">192</span>.168.0.1<span class="w">     </span><span class="m">0</span>.0.0.0<span class="w">         </span>UG<span class="w">    </span><span class="m">100</span><span class="w">    </span><span class="m">0</span><span class="w">        </span><span class="m">0</span><span class="w"> </span>eno1
<span class="m">10</span>.45.0.0<span class="w">       </span><span class="m">10</span>.53.1.2<span class="w">       </span><span class="m">255</span>.255.0.0<span class="w">     </span>UG<span class="w">    </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">        </span><span class="m">0</span><span class="w"> </span>br-dfa5521eb807
<span class="m">10</span>.53.1.0<span class="w">       </span><span class="m">0</span>.0.0.0<span class="w">         </span><span class="m">255</span>.255.255.0<span class="w">   </span>U<span class="w">     </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">        </span><span class="m">0</span><span class="w"> </span>br-dfa5521eb807
...
</pre></div>
</div>
<p>However, if a second instance of Open5GS (that was installed manually) is running on the host PC, the route to <cite>10.45.0.0</cite> goes to <cite>ogstun</cite> interface. For this reason, a UE cannot access the Internet, as the host will send packets to the manually installed Open5GS version.
To solve this routing issue, you can disable (or even remove) the manually installed Open5GS – please check sections 6 and/or 7 of the <a class="reference external" href="https://open5gs.org/open5gs/docs/guide/01-quickstart/">Open5GS tutorial</a>.
In addition, you might need to disable the <cite>ogstun</cite> interface with the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>ifconfig<span class="w"> </span>ogstun<span class="w"> </span><span class="m">0</span>.0.0.0<span class="w"> </span>down
</pre></div>
</div>
</section>
<section id="usrp-x300-x310">
<h3>USRP X300/X310<a class="headerlink" href="#usrp-x300-x310" title="Link to this heading"></a></h3>
<p>The following config files changes are required to run the above setup with USRP X300/X310.</p>
<p>In the gnb config file, the following parameters in <cite>ru_sdr</cite> section have to changed:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ru_sdr:
<span class="w">  </span>...
<span class="w">  </span>device_args:<span class="w"> </span><span class="nv">type</span><span class="o">=</span>x300,addr<span class="o">=</span>X.X.X.X,master_clock_rate<span class="o">=</span><span class="m">184</span>.32e6,send_frame_size<span class="o">=</span><span class="m">8000</span>,recv_frame_size<span class="o">=</span><span class="m">8000</span>
<span class="w">  </span>...
<span class="w">  </span>srate:<span class="w"> </span><span class="m">30</span>.72
</pre></div>
</div>
<p>In the srsUE config file, the following parameters have to changed:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>rf<span class="o">]</span>
...
<span class="nv">srate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">30</span>.72e6
...
<span class="nv">device_args</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">type</span><span class="o">=</span>x300,addr<span class="o">=</span>X.X.X.X,master_clock_rate<span class="o">=</span><span class="m">184</span>.32e6,send_frame_size<span class="o">=</span><span class="m">8000</span>,recv_frame_size<span class="o">=</span><span class="m">8000</span>,clock<span class="o">=</span>external,sync<span class="o">=</span>external
...
<span class="o">[</span>expert<span class="o">]</span>
<span class="nv">lte_sample_rates</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="id26">
<h2>Limitations<a class="headerlink" href="#id26" title="Link to this heading"></a></h2>
<section id="id27">
<h3>srsUE<a class="headerlink" href="#id27" title="Link to this heading"></a></h3>
<p><strong>Multiple TACs</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>srsUE does not support the use of multiple TACs. Using multple TACs will result in errors parsing NAS messages from the core, resulting in the UE not connecting correctly.</p></li>
</ul>
</div></blockquote>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../../../../knowledge_base/source/cots_ues/source/index.html" class="btn btn-neutral float-left" title="COTS UEs" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../cotsUE/source/index.html" class="btn btn-neutral float-right" title="srsRAN gNB with COTS UEs" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023-2024, Software Radio Systems..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>